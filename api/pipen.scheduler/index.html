<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>pipen.scheduler - pipen</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="//use.fontawesome.com/releases/v5.8.1/css/all.css" rel="stylesheet" />
        <link href="//use.fontawesome.com/releases/v5.8.1/css/v4-shims.css" rel="stylesheet" />
        <link href="../../css/mkapi-common.css" rel="stylesheet" />
        <link href="../../assets/style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "pipen.scheduler";
        var mkdocs_page_input_path = "api/pipen.scheduler.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.configure({ ignoreUnescapedHTML: true }); hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../rtd-logo.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="nav-scrollable-wrapper">
      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Introduction</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../..">Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tutorials</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../tutorials/beginner/">Beginner Tutorial</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../defining-proc/">Defining a process</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../running/">Defining and running a pipeline</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">How-to Guides</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../templating/">Templating</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../channels/">Channels</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../input-output/">Input and output</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../script/">Script</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../caching/">Caching</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud/">Cloud support</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../error/">Error handling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configurations/">Configurations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../plugin/">Plugins</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scheduler/">Scheduler</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../proc-group/">Process group</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cli/">Command line interface</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">pipen</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../pipen/">pipen</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.pluginmgr/">pipen.pluginmgr</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.utils/">pipen.utils</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.proc/">pipen.proc</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.version/">pipen.version</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.job/">pipen.job</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">pipen.scheduler</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#pipenschedulerschedulerpostinit">SchedulerPostInit</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pipenschedulerlocalscheduler">LocalScheduler</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercreate_job">create_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulersubmit_job_and_update_status">submit_job_and_update_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulertransition_job_status">transition_job_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerkill_job_and_update_status">kill_job_and_update_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerretry_job">retry_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercount_running_jobs">count_running_jobs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercheck_all_done">check_all_done</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerkill_running_jobs">kill_running_jobs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjob_is_submitted_or_running">job_is_submitted_or_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjob_fails_before_running">job_fails_before_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_shebang">jobcmd_shebang</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_init">jobcmd_init</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_end">jobcmd_end</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerwrap_job_script">wrap_job_script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerwrapped_job_script">wrapped_job_script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerslocal_schedulerlocalschedulersubmit_job">submit_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerslocal_schedulerlocalschedulerkill_job">kill_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerslocal_schedulerlocalschedulerjob_is_running">job_is_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerslocal_schedulerlocalschedulerjobcmd_prep">jobcmd_prep</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pipenschedulersgescheduler">SgeScheduler</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercreate_job_1">create_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulersubmit_job_and_update_status_1">submit_job_and_update_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulertransition_job_status_1">transition_job_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerkill_job_and_update_status_1">kill_job_and_update_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerretry_job_1">retry_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercount_running_jobs_1">count_running_jobs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercheck_all_done_1">check_all_done</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerkill_running_jobs_1">kill_running_jobs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjob_is_submitted_or_running_1">job_is_submitted_or_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjob_fails_before_running_1">job_fails_before_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_init_1">jobcmd_init</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_prep">jobcmd_prep</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_end_1">jobcmd_end</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerwrap_job_script_1">wrap_job_script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerwrapped_job_script_1">wrapped_job_script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerssge_schedulersgeschedulerjobcmd_shebang">jobcmd_shebang</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerssge_schedulersgeschedulersubmit_job">submit_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerssge_schedulersgeschedulerkill_job">kill_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerssge_schedulersgeschedulerjob_is_running">job_is_running</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pipenschedulerslurmscheduler">SlurmScheduler</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercreate_job_2">create_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulersubmit_job_and_update_status_2">submit_job_and_update_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulertransition_job_status_2">transition_job_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerkill_job_and_update_status_2">kill_job_and_update_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerretry_job_2">retry_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercount_running_jobs_2">count_running_jobs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercheck_all_done_2">check_all_done</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerkill_running_jobs_2">kill_running_jobs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjob_is_submitted_or_running_2">job_is_submitted_or_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_init_2">jobcmd_init</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_prep_1">jobcmd_prep</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_end_2">jobcmd_end</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerwrap_job_script_2">wrap_job_script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerwrapped_job_script_2">wrapped_job_script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersslurm_schedulerslurmschedulerjobcmd_shebang">jobcmd_shebang</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersslurm_schedulerslurmschedulersubmit_job">submit_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersslurm_schedulerslurmschedulerkill_job">kill_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersslurm_schedulerslurmschedulerjob_fails_before_running">job_fails_before_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersslurm_schedulerslurmschedulerjob_is_running">job_is_running</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pipenschedulersshscheduler">SshScheduler</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercreate_job_3">create_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulersubmit_job_and_update_status_3">submit_job_and_update_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulertransition_job_status_3">transition_job_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerkill_job_and_update_status_3">kill_job_and_update_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerretry_job_3">retry_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercount_running_jobs_3">count_running_jobs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercheck_all_done_3">check_all_done</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerkill_running_jobs_3">kill_running_jobs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjob_is_submitted_or_running_3">job_is_submitted_or_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjob_fails_before_running_2">job_fails_before_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_shebang_1">jobcmd_shebang</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_init_3">jobcmd_init</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_end_3">jobcmd_end</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerwrap_job_script_3">wrap_job_script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerwrapped_job_script_3">wrapped_job_script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerslocal_schedulerlocalschedulerjobcmd_prep_1">jobcmd_prep</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersssh_schedulerschedulersshschedulersubmit_job">submit_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersssh_schedulerschedulersshschedulerkill_job">kill_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersssh_schedulerschedulersshschedulerjob_is_running">job_is_running</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pipenschedulergbatchscheduler">GbatchScheduler</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercreate_job_4">create_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulersubmit_job_and_update_status_4">submit_job_and_update_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulertransition_job_status_4">transition_job_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerkill_job_and_update_status_4">kill_job_and_update_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerretry_job_4">retry_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercount_running_jobs_4">count_running_jobs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercheck_all_done_4">check_all_done</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerkill_running_jobs_4">kill_running_jobs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjob_is_submitted_or_running_4">job_is_submitted_or_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_shebang_2">jobcmd_shebang</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_prep_2">jobcmd_prep</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_end_4">jobcmd_end</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerwrap_job_script_4">wrap_job_script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerwrapped_job_script_4">wrapped_job_script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersgbatch_schedulergbatchschedulersubmit_job">submit_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersgbatch_schedulergbatchschedulerkill_job">kill_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersgbatch_schedulergbatchschedulerjob_fails_before_running">job_fails_before_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersgbatch_schedulergbatchschedulerjob_is_running">job_is_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulersgbatch_schedulergbatchschedulerjobcmd_init">jobcmd_init</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pipenschedulercontainerscheduler">ContainerScheduler</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercreate_job_5">create_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulersubmit_job_and_update_status_5">submit_job_and_update_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulertransition_job_status_5">transition_job_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerkill_job_and_update_status_5">kill_job_and_update_status</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerretry_job_5">retry_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercount_running_jobs_5">count_running_jobs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulercheck_all_done_5">check_all_done</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerkill_running_jobs_5">kill_running_jobs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjob_is_submitted_or_running_5">job_is_submitted_or_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjob_fails_before_running_3">job_fails_before_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerjobcmd_end_5">jobcmd_end</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerschedulerwrap_job_script_5">wrap_job_script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerslocal_schedulerlocalschedulerkill_job_1">kill_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerslocal_schedulerlocalschedulerjob_is_running_1">job_is_running</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerslocal_schedulerlocalschedulerjobcmd_prep_2">jobcmd_prep</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerscontainer_schedulercontainerschedulerwrapped_job_script">wrapped_job_script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerscontainer_schedulercontainerschedulerjobcmd_shebang">jobcmd_shebang</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerscontainer_schedulercontainerschedulersubmit_job">submit_job</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#xquteschedulerscontainer_schedulercontainerschedulerjobcmd_init">jobcmd_init</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pipenschedulerget_scheduler">get_scheduler</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.exceptions/">pipen.exceptions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.pipen/">pipen.pipen</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.channel/">pipen.channel</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.progressbar/">pipen.progressbar</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.template/">pipen.template</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.procgroup/">pipen.procgroup</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.defaults/">pipen.defaults</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">pipen.cli</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.cli/">pipen.cli</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.cli.profile/">pipen.cli.profile</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.cli.version/">pipen.cli.version</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.cli.help/">pipen.cli.help</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../pipen.cli.plugins/">pipen.cli.plugins</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/">Examples</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../CHANGELOG/">Change Log</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/">Troubleshooting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING/">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../glossary/">Glossary</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Explanation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../architecture/">Architecture</a>
                  </li>
              </ul>
      </div>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">pipen</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">API</li>
          <li class="breadcrumb-item">pipen</li>
      <li class="breadcrumb-item active">pipen.scheduler</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/pwwang/pipen/blob/master/docs/api/pipen.scheduler.md">Edit on pwwang/pipen</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <div class="mkapi-node" id="pipen.scheduler">
<div class='mkapi-object-container'>
  <div class="mkapi-object module plain top">
    <div class="mkapi-object-kind module top">module</div>
    <h2 id="pipenscheduler" class="mkapi-object-body module top"><span class="mkapi-object-prefix">pipen.</span><span class="mkapi-object-name">scheduler</span></h2>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler" title="Source for pipen.scheduler">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Provide builting schedulers</p></div>
    </div>
  <div class="mkapi-section classes">
      <div class="mkapi-section-name classes">
          <span class="mkapi-section-name-body classes">Classes</span> 
        </div>
      <div class="mkapi-section-body classes"><ul class="mkapi-items">
<li class="class"><code class="mkapi-item-name"><a href="#pipen.scheduler.SchedulerPostInit">SchedulerPostInit</a></code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Provides post init function for all schedulers<a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.SchedulerPostInit" title="Source for pipen.scheduler.SchedulerPostInit">&lt;/&gt;</a></span></li>

<li class="class"><code class="mkapi-item-name"><a href="#pipen.scheduler.LocalScheduler">LocalScheduler</a></code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Local scheduler<a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.LocalScheduler" title="Source for pipen.scheduler.LocalScheduler">&lt;/&gt;</a></span></li>

<li class="class"><code class="mkapi-item-name"><a href="#pipen.scheduler.SgeScheduler">SgeScheduler</a></code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">SGE scheduler<a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.SgeScheduler" title="Source for pipen.scheduler.SgeScheduler">&lt;/&gt;</a></span></li>

<li class="class"><code class="mkapi-item-name"><a href="#pipen.scheduler.SlurmScheduler">SlurmScheduler</a></code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Slurm scheduler<a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.SlurmScheduler" title="Source for pipen.scheduler.SlurmScheduler">&lt;/&gt;</a></span></li>

<li class="class"><code class="mkapi-item-name"><a href="#pipen.scheduler.SshScheduler">SshScheduler</a></code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">SSH scheduler<a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.SshScheduler" title="Source for pipen.scheduler.SshScheduler">&lt;/&gt;</a></span></li>

<li class="class"><code class="mkapi-item-name"><a href="#pipen.scheduler.GbatchScheduler">GbatchScheduler</a></code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Google Cloud Batch scheduler<a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.GbatchScheduler" title="Source for pipen.scheduler.GbatchScheduler">&lt;/&gt;</a></span></li>

<li class="class"><code class="mkapi-item-name"><a href="#pipen.scheduler.ContainerScheduler">ContainerScheduler</a></code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Scheduler to run jobs via containers (Docker/Podman/Apptainer)<a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.ContainerScheduler" title="Source for pipen.scheduler.ContainerScheduler">&lt;/&gt;</a></span></li>


</ul></div>
    </div>
  <div class="mkapi-section functions">
      <div class="mkapi-section-name functions">
          <span class="mkapi-section-name-body functions">Functions</span> 
        </div>
      <div class="mkapi-section-body functions"><ul class="mkapi-items">
<li class="function"><code class="mkapi-item-name"><a href="#pipen.scheduler.get_scheduler">get_scheduler</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">scheduler</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(Type)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Get the scheduler by name of the scheduler class itself<a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.get_scheduler" title="Source for pipen.scheduler.get_scheduler">&lt;/&gt;</a></span></li>


</ul></div>
    </div>
  </div>

</div>

<div class="mkapi-node" id="pipen.scheduler.SchedulerPostInit">
<div class='mkapi-object-container'>
  <div class="mkapi-object class code top">
    <div class="mkapi-object-kind class top">class</div>
    <h3 id="pipenschedulerschedulerpostinit" class="mkapi-object-body class top"><code class="mkapi-object-prefix">pipen.scheduler.</code><code class="mkapi-object-name">SchedulerPostInit</code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-parenthesis">)</code></h3>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.SchedulerPostInit" title="Source for pipen.scheduler.SchedulerPostInit">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Provides post init function for all schedulers</p></div>
    </div>
  </div>

</div>

<div class="mkapi-node" id="pipen.scheduler.LocalScheduler">
<div class='mkapi-object-container'>
  <div class="mkapi-object class code top">
    <div class="mkapi-object-kind class top">class</div>
    <h3 id="pipenschedulerlocalscheduler" class="mkapi-object-body class top"><code class="mkapi-object-prefix">pipen.scheduler.</code><code class="mkapi-object-name">LocalScheduler</code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">workdir</code>, <code class="mkapi-object-signature">forks=1</code>, <code class="mkapi-object-signature">error_strategy=&#39;ignore&#39;</code>, <code class="mkapi-object-signature">num_retries=3</code>, <code class="mkapi-object-signature">prescript=&#39;&#39;</code>, <code class="mkapi-object-signature">postscript=&#39;&#39;</code>, <code class="mkapi-object-signature">jobname_prefix=None</code>, <code class="mkapi-object-signature">submission_batch=None</code>, <code class="mkapi-object-signature">recheck_interval=60</code>, <code class="mkapi-object-signature">cwd=None</code>, <code class="mkapi-object-signature">**kwargs</code><code class="mkapi-object-parenthesis">)</code></h3>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.LocalScheduler" title="Source for pipen.scheduler.LocalScheduler">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section bases">
      <div class="mkapi-section-name bases">
          <span class="mkapi-section-name-body bases">Bases</span> 
        </div>
      <div class="mkapi-section-body bases">
<span class="mkapi-base"><a href="./#pipen.scheduler.SchedulerPostInit">pipen.scheduler.SchedulerPostInit</a></span>

<span class="mkapi-base">xqute.schedulers.local_scheduler.LocalScheduler</span>

<span class="mkapi-base">xqute.scheduler.Scheduler</span>
</div>
    </div>
  <div class="mkapi-section">
      <div class="mkapi-section-body"><p>Local scheduler</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">workdir</code>
<span class="mkapi-item-type">(str | Path)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The working directory</span></li>

<li><code class="mkapi-item-name">forks</code>
<span class="mkapi-item-type">(int, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Max number of job forks</span></li>

<li><code class="mkapi-item-name">error_strategy</code>
<span class="mkapi-item-type">(str, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The strategy when there is error happened</span></li>

<li><code class="mkapi-item-name">num_retries</code>
<span class="mkapi-item-type">(int, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Max number of retries when error_strategy is retry</span></li>

<li><code class="mkapi-item-name">prescript</code>
<span class="mkapi-item-type">(str, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The prescript to run before the job commandIt is a piece of script that inserted into the wrapper script, running
on the scheduler system.
</span></li>

<li><code class="mkapi-item-name">postscript</code>
<span class="mkapi-item-type">(str, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The postscript to run when job finishedIt is a piece of script that inserted into the wrapper script, running
on the scheduler system.
</span></li>

<li><code class="mkapi-item-name">jobname_prefix</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The prefix for the job name</span></li>

<li><code class="mkapi-item-name">submission_batch</code>
<span class="mkapi-item-type">(int | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The number of consumers to submit jobs. This allowsmultiple jobs to be submitted in parallel. This is useful when
there are many jobs to be submitted and the scheduler has a high
latency for each submission. Set this to a smaller number if the
scheduler cannot handle too many simultaneous submissions.
</span></li>

<li><code class="mkapi-item-name">recheck_interval</code>
<span class="mkapi-item-type">(int, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The number of polling iterations between rechecks ofwhether a job is still running on the scheduler. Helps detect jobs
that fail before the wrapped script updates status (e.g., resource
allocation failures). Each iteration takes
<code>xqute.defaults.SLEEP_INTERVAL_POLLING_JOBS</code>
</span></li>

<li><code class="mkapi-item-name">cwd</code>
<span class="mkapi-item-type">(str | Path, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The working directory for the job command wrapper</span></li>

<li><code class="mkapi-item-name">**kwargs</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Other arguments for the scheduler</span></li>


</ul></div>
    </div>
  <div class="mkapi-section attributes">
      <div class="mkapi-section-name attributes">
          <span class="mkapi-section-name-body attributes">Attributes</span> 
        </div>
      <div class="mkapi-section-body attributes"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job_class</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job class</span></li>

<li><code class="mkapi-item-name">jobcmd_wrapper_init</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The init script for the job command wrapper</span></li>

<li class="readonly-property"><code class="mkapi-item-name">jobcmd_wrapper_init</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The init script for the job command wrapper<span id="xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_wrapper_init"></span><a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_wrapper_init" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_wrapper_init">&lt;/&gt;</a></span></li>

<li><code class="mkapi-item-name">name</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The name of the scheduler</span></li>


</ul></div>
    </div>
  <div class="mkapi-section methods">
      <div class="mkapi-section-name methods">
          <span class="mkapi-section-name-body methods">Methods</span> 
        </div>
      <div class="mkapi-section-body methods"><ul class="mkapi-items">
<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.check_all_done">check_all_done</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code>, <code class="mkapi-object-signature">polling_counter</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if all jobs are done (full polling with hooks)<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.check_all_done" title="Source for xqute.scheduler.Scheduler.check_all_done">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.count_running_jobs">count_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Count currently running/active jobs (lightweight check)<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.count_running_jobs" title="Source for xqute.scheduler.Scheduler.count_running_jobs">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.create_job">create_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">index</code>, <code class="mkapi-object-signature">cmd</code>, <code class="mkapi-object-signature">envs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Create a job<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.create_job" title="Source for xqute.scheduler.Scheduler.create_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.job_fails_before_running">job_fails_before_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job fails before running.<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_fails_before_running" title="Source for xqute.scheduler.Scheduler.job_fails_before_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.local_scheduler.LocalScheduler.job_is_running">job_is_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Tell if a job is really running, not only the job.jid_file<a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.job_is_running" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.job_is_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.job_is_submitted_or_running">job_is_submitted_or_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job is already submitted or running<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_is_submitted_or_running" title="Source for xqute.scheduler.Scheduler.job_is_submitted_or_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_end">jobcmd_end</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command end<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_end" title="Source for xqute.scheduler.Scheduler.jobcmd_end">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_init">jobcmd_init</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command init<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_init" title="Source for xqute.scheduler.Scheduler.jobcmd_init">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep">jobcmd_prep</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command preparation<a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_shebang">jobcmd_shebang</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The shebang of the wrapper script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_shebang" title="Source for xqute.scheduler.Scheduler.jobcmd_shebang">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.local_scheduler.LocalScheduler.kill_job">kill_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Kill a job asynchronously<a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.kill_job" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.kill_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.kill_job_and_update_status">kill_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Kill a job and update its status<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_job_and_update_status" title="Source for xqute.scheduler.Scheduler.kill_job_and_update_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.kill_running_jobs">kill_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Try to kill all running jobs<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_running_jobs" title="Source for xqute.scheduler.Scheduler.kill_running_jobs">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.retry_job">retry_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Retry a job<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.retry_job" title="Source for xqute.scheduler.Scheduler.retry_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.local_scheduler.LocalScheduler.submit_job">submit_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Submit a job locally<a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.submit_job" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.submit_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.submit_job_and_update_status">submit_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Submit and update the status<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.submit_job_and_update_status" title="Source for xqute.scheduler.Scheduler.submit_job_and_update_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.transition_job_status">transition_job_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code>, <code class="mkapi-object-signature">new_status</code>, <code class="mkapi-object-signature">old_status</code>, <code class="mkapi-object-signature">flush</code>, <code class="mkapi-object-signature">rc</code>, <code class="mkapi-object-signature">error_msg</code>, <code class="mkapi-object-signature">is_killed</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Centralized status transition handler<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.transition_job_status" title="Source for xqute.scheduler.Scheduler.transition_job_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.wrap_job_script">wrap_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Wrap the job script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrap_job_script" title="Source for xqute.scheduler.Scheduler.wrap_job_script">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.wrapped_job_script">wrapped_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(SpecPath)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Get the wrapped job script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrapped_job_script" title="Source for xqute.scheduler.Scheduler.wrapped_job_script">&lt;/&gt;</a></span></li>


</ul></div>
    </div>
  </div>

  <div class="mkapi-members">
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.create_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercreate_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercreate_job">create_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">index</code>, <code class="mkapi-object-signature">cmd</code>, <code class="mkapi-object-signature">envs=None</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.create_job" title="Source for xqute.scheduler.Scheduler.create_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Create a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">index</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The index of the job</span></li>

<li><code class="mkapi-item-name">cmd</code>
<span class="mkapi-item-type">(Union)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The command of the job</span></li>



</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(Job)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The job</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.submit_job_and_update_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulersubmit_job_and_update_status" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulersubmit_job_and_update_status">submit_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.submit_job_and_update_status" title="Source for xqute.scheduler.Scheduler.submit_job_and_update_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Submit and update the status</p><ol>
<li>Check if the job is already submitted or running</li>
<li>If not, run the hook</li>
<li>If the hook is not cancelled, clean the job</li>
<li>Submit the job, raising an exception if it fails</li>
<li>If the job is submitted successfully, update the status</li>
<li>If the job fails to submit, update the status and write stderr to
    the job file</li>
</ol>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.transition_job_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulertransition_job_status" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulertransition_job_status">transition_job_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code>, <code class="mkapi-object-signature">new_status</code>, <code class="mkapi-object-signature">old_status=None</code>, <code class="mkapi-object-signature">flush=True</code>, <code class="mkapi-object-signature">rc=None</code>, <code class="mkapi-object-signature">error_msg=None</code>, <code class="mkapi-object-signature">is_killed=False</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.transition_job_status" title="Source for xqute.scheduler.Scheduler.transition_job_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Centralized status transition handler</p><p>Handles all aspects of job status transitions:
<ul><li>- Status change logging</li><li>- Hook lifecycle management (ensuring on_job_started is called)</li><li>- Appropriate hook calls based on new status</li><li>- RC file updates</li><li>- Error message appending to stderr</li><li>- JID file cleanup for terminal states</li><li>- Pipeline halt on errors if configured</p></li></ul><p>Note that this method will not flush status changes to disk (job.status_file).You need to call job.set_status() separately if needed.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job to transition</span></li>

<li><code class="mkapi-item-name">new_status</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The new status to transition to</span></li>

<li><code class="mkapi-item-name">old_status</code>
<span class="mkapi-item-type">(int | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The previous status (if known).If None, will use job._status
</span></li>

<li><code class="mkapi-item-name">flush</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether to flush the status to disk</span></li>

<li><code class="mkapi-item-name">rc</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Optional return code to write to rc_file</span></li>

<li><code class="mkapi-item-name">error_msg</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Optional error message to append to stderr_file</span></li>

<li><code class="mkapi-item-name">is_killed</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether this is a killed job (uses on_job_killed hook)</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.kill_job_and_update_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerkill_job_and_update_status" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerkill_job_and_update_status">kill_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_job_and_update_status" title="Source for xqute.scheduler.Scheduler.kill_job_and_update_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Kill a job and update its status</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.retry_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerretry_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerretry_job">retry_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.retry_job" title="Source for xqute.scheduler.Scheduler.retry_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Retry a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.count_running_jobs">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercount_running_jobs" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercount_running_jobs">count_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.count_running_jobs" title="Source for xqute.scheduler.Scheduler.count_running_jobs">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Count currently running/active jobs (lightweight check)</p><p>This is optimized for the producer to check if new jobs can be submitted.
It only counts jobs without refreshing status or calling hooks.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(int)</span>
        </div>
      <div class="mkapi-section-body returns"><p>Number of jobs currently in active states</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.check_all_done">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercheck_all_done" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercheck_all_done">check_all_done</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code>, <code class="mkapi-object-signature">polling_counter</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.check_all_done" title="Source for xqute.scheduler.Scheduler.check_all_done">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if all jobs are done (full polling with hooks)</p><p>This does complete status refresh and calls all lifecycle hooks.
Used by the main polling loop to track job completion.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>

<li><code class="mkapi-item-name">polling_counter</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The polling counter for hook calls</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if all jobs are done, False otherwise</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.kill_running_jobs">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerkill_running_jobs" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerkill_running_jobs">kill_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_running_jobs" title="Source for xqute.scheduler.Scheduler.kill_running_jobs">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Try to kill all running jobs</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.job_is_submitted_or_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjob_is_submitted_or_running" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjob_is_submitted_or_running">job_is_submitted_or_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_is_submitted_or_running" title="Source for xqute.scheduler.Scheduler.job_is_submitted_or_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job is already submitted or running</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if yes otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.job_fails_before_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjob_fails_before_running" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjob_fails_before_running">job_fails_before_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_fails_before_running" title="Source for xqute.scheduler.Scheduler.job_fails_before_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job fails before running.</p><p>For some schedulers, the job might fail before running (after submission).
For example, the job might fail to allocate resources. In such a case,
the wrapped script might not be executed, and the job status will not be
updated (stays in SUBMITTED). We need to check such jobs and mark them as
FAILED.</p>
<p>For the instant scheduler, for example, the local scheduler, the failure will
be immediately reported when submitting the job, so we don't need to check
such jobs.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job to check</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if the job fails before running, otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_shebang">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_shebang" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_shebang">jobcmd_shebang</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_shebang" title="Source for xqute.scheduler.Scheduler.jobcmd_shebang">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The shebang of the wrapper script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_init">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_init" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_init">jobcmd_init</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_init" title="Source for xqute.scheduler.Scheduler.jobcmd_init">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command init</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_end">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_end" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_end">jobcmd_end</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_end" title="Source for xqute.scheduler.Scheduler.jobcmd_end">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command end</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.wrap_job_script">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerwrap_job_script" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerwrap_job_script">wrap_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrap_job_script" title="Source for xqute.scheduler.Scheduler.wrap_job_script">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Wrap the job script</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(str)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The wrapped script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.wrapped_job_script">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerwrapped_job_script" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerwrapped_job_script">wrapped_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrapped_job_script" title="Source for xqute.scheduler.Scheduler.wrapped_job_script">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Get the wrapped job script</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(SpecPath)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The path of the wrapped job script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.local_scheduler.LocalScheduler.submit_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerslocal_schedulerlocalschedulersubmit_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerslocal_schedulerlocalschedulersubmit_job">submit_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.submit_job" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.submit_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Submit a job locally</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(int)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The process id</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.local_scheduler.LocalScheduler.kill_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerslocal_schedulerlocalschedulerkill_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerslocal_schedulerlocalschedulerkill_job">kill_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.kill_job" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.kill_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Kill a job asynchronously</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.local_scheduler.LocalScheduler.job_is_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerslocal_schedulerlocalschedulerjob_is_running" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerslocal_schedulerlocalschedulerjob_is_running">job_is_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.job_is_running" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.job_is_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Tell if a job is really running, not only the job.jid_file</p><p>In case where the jid file is not cleaned when job is done.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if it is, otherwise False</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerslocal_schedulerlocalschedulerjobcmd_prep" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerslocal_schedulerlocalschedulerjobcmd_prep">jobcmd_prep</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command preparation</p></div>
    </div>
  </div>

</div>
    </div>
  
  </div>

</div>

<div class="mkapi-node" id="pipen.scheduler.SgeScheduler">
<div class='mkapi-object-container'>
  <div class="mkapi-object class code top">
    <div class="mkapi-object-kind class top">class</div>
    <h3 id="pipenschedulersgescheduler" class="mkapi-object-body class top"><code class="mkapi-object-prefix">pipen.scheduler.</code><code class="mkapi-object-name">SgeScheduler</code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">*args</code>, <code class="mkapi-object-signature">**kwargs</code><code class="mkapi-object-parenthesis">)</code></h3>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.SgeScheduler" title="Source for pipen.scheduler.SgeScheduler">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section bases">
      <div class="mkapi-section-name bases">
          <span class="mkapi-section-name-body bases">Bases</span> 
        </div>
      <div class="mkapi-section-body bases">
<span class="mkapi-base"><a href="./#pipen.scheduler.SchedulerPostInit">pipen.scheduler.SchedulerPostInit</a></span>

<span class="mkapi-base">xqute.schedulers.sge_scheduler.SgeScheduler</span>

<span class="mkapi-base">xqute.scheduler.Scheduler</span>
</div>
    </div>
  <div class="mkapi-section">
      <div class="mkapi-section-body"><p>SGE scheduler</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">**kwargs</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Other arguments for the scheduler</span></li>



</ul></div>
    </div>
  <div class="mkapi-section attributes">
      <div class="mkapi-section-name attributes">
          <span class="mkapi-section-name-body attributes">Attributes</span> 
        </div>
      <div class="mkapi-section-body attributes"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job_class</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job class</span></li>

<li><code class="mkapi-item-name">jobcmd_wrapper_init</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The init script for the job command wrapper</span></li>

<li class="readonly-property"><code class="mkapi-item-name">jobcmd_wrapper_init</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The init script for the job command wrapper<span id="xqute.scheduler.Scheduler.jobcmd_wrapper_init"></span><a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_wrapper_init" title="Source for xqute.scheduler.Scheduler.jobcmd_wrapper_init">&lt;/&gt;</a></span></li>

<li><code class="mkapi-item-name">name</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The name of the scheduler</span></li>





</ul></div>
    </div>
  <div class="mkapi-section methods">
      <div class="mkapi-section-name methods">
          <span class="mkapi-section-name-body methods">Methods</span> 
        </div>
      <div class="mkapi-section-body methods"><ul class="mkapi-items">
<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.check_all_done">check_all_done</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code>, <code class="mkapi-object-signature">polling_counter</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if all jobs are done (full polling with hooks)<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.check_all_done" title="Source for xqute.scheduler.Scheduler.check_all_done">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.count_running_jobs">count_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Count currently running/active jobs (lightweight check)<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.count_running_jobs" title="Source for xqute.scheduler.Scheduler.count_running_jobs">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.create_job">create_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">index</code>, <code class="mkapi-object-signature">cmd</code>, <code class="mkapi-object-signature">envs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Create a job<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.create_job" title="Source for xqute.scheduler.Scheduler.create_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.job_fails_before_running">job_fails_before_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job fails before running.<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_fails_before_running" title="Source for xqute.scheduler.Scheduler.job_fails_before_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.sge_scheduler.SgeScheduler.job_is_running">job_is_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Tell if a job is really running, not only the job.jid_file<a class="mkapi-src-link" href="../source/xqute.schedulers.sge_scheduler/#xqute.schedulers.sge_scheduler.SgeScheduler.job_is_running" title="Source for xqute.schedulers.sge_scheduler.SgeScheduler.job_is_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.job_is_submitted_or_running">job_is_submitted_or_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job is already submitted or running<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_is_submitted_or_running" title="Source for xqute.scheduler.Scheduler.job_is_submitted_or_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_end">jobcmd_end</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command end<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_end" title="Source for xqute.scheduler.Scheduler.jobcmd_end">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_init">jobcmd_init</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command init<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_init" title="Source for xqute.scheduler.Scheduler.jobcmd_init">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_prep">jobcmd_prep</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command preparation<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_prep" title="Source for xqute.scheduler.Scheduler.jobcmd_prep">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.sge_scheduler.SgeScheduler.jobcmd_shebang">jobcmd_shebang</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The shebang of the wrapper script<a class="mkapi-src-link" href="../source/xqute.schedulers.sge_scheduler/#xqute.schedulers.sge_scheduler.SgeScheduler.jobcmd_shebang" title="Source for xqute.schedulers.sge_scheduler.SgeScheduler.jobcmd_shebang">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.sge_scheduler.SgeScheduler.kill_job">kill_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Kill a job on SGE<a class="mkapi-src-link" href="../source/xqute.schedulers.sge_scheduler/#xqute.schedulers.sge_scheduler.SgeScheduler.kill_job" title="Source for xqute.schedulers.sge_scheduler.SgeScheduler.kill_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.kill_job_and_update_status">kill_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Kill a job and update its status<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_job_and_update_status" title="Source for xqute.scheduler.Scheduler.kill_job_and_update_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.kill_running_jobs">kill_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Try to kill all running jobs<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_running_jobs" title="Source for xqute.scheduler.Scheduler.kill_running_jobs">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.retry_job">retry_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Retry a job<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.retry_job" title="Source for xqute.scheduler.Scheduler.retry_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.sge_scheduler.SgeScheduler.submit_job">submit_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Submit a job to SGE<a class="mkapi-src-link" href="../source/xqute.schedulers.sge_scheduler/#xqute.schedulers.sge_scheduler.SgeScheduler.submit_job" title="Source for xqute.schedulers.sge_scheduler.SgeScheduler.submit_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.submit_job_and_update_status">submit_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Submit and update the status<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.submit_job_and_update_status" title="Source for xqute.scheduler.Scheduler.submit_job_and_update_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.transition_job_status">transition_job_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code>, <code class="mkapi-object-signature">new_status</code>, <code class="mkapi-object-signature">old_status</code>, <code class="mkapi-object-signature">flush</code>, <code class="mkapi-object-signature">rc</code>, <code class="mkapi-object-signature">error_msg</code>, <code class="mkapi-object-signature">is_killed</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Centralized status transition handler<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.transition_job_status" title="Source for xqute.scheduler.Scheduler.transition_job_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.wrap_job_script">wrap_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Wrap the job script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrap_job_script" title="Source for xqute.scheduler.Scheduler.wrap_job_script">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.wrapped_job_script">wrapped_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(SpecPath)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Get the wrapped job script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrapped_job_script" title="Source for xqute.scheduler.Scheduler.wrapped_job_script">&lt;/&gt;</a></span></li>


</ul></div>
    </div>
  </div>

  <div class="mkapi-members">
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.create_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercreate_job_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercreate_job_1">create_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">index</code>, <code class="mkapi-object-signature">cmd</code>, <code class="mkapi-object-signature">envs=None</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.create_job" title="Source for xqute.scheduler.Scheduler.create_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Create a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">index</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The index of the job</span></li>

<li><code class="mkapi-item-name">cmd</code>
<span class="mkapi-item-type">(Union)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The command of the job</span></li>



</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(Job)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The job</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.submit_job_and_update_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulersubmit_job_and_update_status_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulersubmit_job_and_update_status_1">submit_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.submit_job_and_update_status" title="Source for xqute.scheduler.Scheduler.submit_job_and_update_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Submit and update the status</p><ol>
<li>Check if the job is already submitted or running</li>
<li>If not, run the hook</li>
<li>If the hook is not cancelled, clean the job</li>
<li>Submit the job, raising an exception if it fails</li>
<li>If the job is submitted successfully, update the status</li>
<li>If the job fails to submit, update the status and write stderr to
    the job file</li>
</ol>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.transition_job_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulertransition_job_status_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulertransition_job_status_1">transition_job_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code>, <code class="mkapi-object-signature">new_status</code>, <code class="mkapi-object-signature">old_status=None</code>, <code class="mkapi-object-signature">flush=True</code>, <code class="mkapi-object-signature">rc=None</code>, <code class="mkapi-object-signature">error_msg=None</code>, <code class="mkapi-object-signature">is_killed=False</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.transition_job_status" title="Source for xqute.scheduler.Scheduler.transition_job_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Centralized status transition handler</p><p>Handles all aspects of job status transitions:
<ul><li>- Status change logging</li><li>- Hook lifecycle management (ensuring on_job_started is called)</li><li>- Appropriate hook calls based on new status</li><li>- RC file updates</li><li>- Error message appending to stderr</li><li>- JID file cleanup for terminal states</li><li>- Pipeline halt on errors if configured</p></li></ul><p>Note that this method will not flush status changes to disk (job.status_file).You need to call job.set_status() separately if needed.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job to transition</span></li>

<li><code class="mkapi-item-name">new_status</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The new status to transition to</span></li>

<li><code class="mkapi-item-name">old_status</code>
<span class="mkapi-item-type">(int | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The previous status (if known).If None, will use job._status
</span></li>

<li><code class="mkapi-item-name">flush</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether to flush the status to disk</span></li>

<li><code class="mkapi-item-name">rc</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Optional return code to write to rc_file</span></li>

<li><code class="mkapi-item-name">error_msg</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Optional error message to append to stderr_file</span></li>

<li><code class="mkapi-item-name">is_killed</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether this is a killed job (uses on_job_killed hook)</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.kill_job_and_update_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerkill_job_and_update_status_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerkill_job_and_update_status_1">kill_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_job_and_update_status" title="Source for xqute.scheduler.Scheduler.kill_job_and_update_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Kill a job and update its status</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.retry_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerretry_job_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerretry_job_1">retry_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.retry_job" title="Source for xqute.scheduler.Scheduler.retry_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Retry a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.count_running_jobs">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercount_running_jobs_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercount_running_jobs_1">count_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.count_running_jobs" title="Source for xqute.scheduler.Scheduler.count_running_jobs">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Count currently running/active jobs (lightweight check)</p><p>This is optimized for the producer to check if new jobs can be submitted.
It only counts jobs without refreshing status or calling hooks.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(int)</span>
        </div>
      <div class="mkapi-section-body returns"><p>Number of jobs currently in active states</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.check_all_done">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercheck_all_done_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercheck_all_done_1">check_all_done</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code>, <code class="mkapi-object-signature">polling_counter</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.check_all_done" title="Source for xqute.scheduler.Scheduler.check_all_done">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if all jobs are done (full polling with hooks)</p><p>This does complete status refresh and calls all lifecycle hooks.
Used by the main polling loop to track job completion.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>

<li><code class="mkapi-item-name">polling_counter</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The polling counter for hook calls</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if all jobs are done, False otherwise</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.kill_running_jobs">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerkill_running_jobs_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerkill_running_jobs_1">kill_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_running_jobs" title="Source for xqute.scheduler.Scheduler.kill_running_jobs">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Try to kill all running jobs</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.job_is_submitted_or_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjob_is_submitted_or_running_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjob_is_submitted_or_running_1">job_is_submitted_or_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_is_submitted_or_running" title="Source for xqute.scheduler.Scheduler.job_is_submitted_or_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job is already submitted or running</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if yes otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.job_fails_before_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjob_fails_before_running_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjob_fails_before_running_1">job_fails_before_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_fails_before_running" title="Source for xqute.scheduler.Scheduler.job_fails_before_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job fails before running.</p><p>For some schedulers, the job might fail before running (after submission).
For example, the job might fail to allocate resources. In such a case,
the wrapped script might not be executed, and the job status will not be
updated (stays in SUBMITTED). We need to check such jobs and mark them as
FAILED.</p>
<p>For the instant scheduler, for example, the local scheduler, the failure will
be immediately reported when submitting the job, so we don't need to check
such jobs.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job to check</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if the job fails before running, otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_init">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_init_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_init_1">jobcmd_init</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_init" title="Source for xqute.scheduler.Scheduler.jobcmd_init">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command init</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_prep">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_prep" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_prep">jobcmd_prep</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_prep" title="Source for xqute.scheduler.Scheduler.jobcmd_prep">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command preparation</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_end">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_end_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_end_1">jobcmd_end</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_end" title="Source for xqute.scheduler.Scheduler.jobcmd_end">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command end</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.wrap_job_script">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerwrap_job_script_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerwrap_job_script_1">wrap_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrap_job_script" title="Source for xqute.scheduler.Scheduler.wrap_job_script">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Wrap the job script</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(str)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The wrapped script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.wrapped_job_script">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerwrapped_job_script_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerwrapped_job_script_1">wrapped_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrapped_job_script" title="Source for xqute.scheduler.Scheduler.wrapped_job_script">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Get the wrapped job script</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(SpecPath)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The path of the wrapped job script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.sge_scheduler.SgeScheduler.jobcmd_shebang">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerssge_schedulersgeschedulerjobcmd_shebang" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerssge_schedulersgeschedulerjobcmd_shebang">jobcmd_shebang</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.sge_scheduler/#xqute.schedulers.sge_scheduler.SgeScheduler.jobcmd_shebang" title="Source for xqute.schedulers.sge_scheduler.SgeScheduler.jobcmd_shebang">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The shebang of the wrapper script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.sge_scheduler.SgeScheduler.submit_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerssge_schedulersgeschedulersubmit_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerssge_schedulersgeschedulersubmit_job">submit_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.sge_scheduler/#xqute.schedulers.sge_scheduler.SgeScheduler.submit_job" title="Source for xqute.schedulers.sge_scheduler.SgeScheduler.submit_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Submit a job to SGE</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(str)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The job id</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.sge_scheduler.SgeScheduler.kill_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerssge_schedulersgeschedulerkill_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerssge_schedulersgeschedulerkill_job">kill_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.sge_scheduler/#xqute.schedulers.sge_scheduler.SgeScheduler.kill_job" title="Source for xqute.schedulers.sge_scheduler.SgeScheduler.kill_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Kill a job on SGE</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.sge_scheduler.SgeScheduler.job_is_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerssge_schedulersgeschedulerjob_is_running" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerssge_schedulersgeschedulerjob_is_running">job_is_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.sge_scheduler/#xqute.schedulers.sge_scheduler.SgeScheduler.job_is_running" title="Source for xqute.schedulers.sge_scheduler.SgeScheduler.job_is_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Tell if a job is really running, not only the job.jid_file</p><p>In case where the jid file is not cleaned when job is done.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if it is, otherwise False</p></div>
    </div>
  </div>

</div>
    </div>
  
  </div>

</div>

<div class="mkapi-node" id="pipen.scheduler.SlurmScheduler">
<div class='mkapi-object-container'>
  <div class="mkapi-object class code top">
    <div class="mkapi-object-kind class top">class</div>
    <h3 id="pipenschedulerslurmscheduler" class="mkapi-object-body class top"><code class="mkapi-object-prefix">pipen.scheduler.</code><code class="mkapi-object-name">SlurmScheduler</code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">*args</code>, <code class="mkapi-object-signature">**kwargs</code><code class="mkapi-object-parenthesis">)</code></h3>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.SlurmScheduler" title="Source for pipen.scheduler.SlurmScheduler">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section bases">
      <div class="mkapi-section-name bases">
          <span class="mkapi-section-name-body bases">Bases</span> 
        </div>
      <div class="mkapi-section-body bases">
<span class="mkapi-base"><a href="./#pipen.scheduler.SchedulerPostInit">pipen.scheduler.SchedulerPostInit</a></span>

<span class="mkapi-base">xqute.schedulers.slurm_scheduler.SlurmScheduler</span>

<span class="mkapi-base">xqute.scheduler.Scheduler</span>
</div>
    </div>
  <div class="mkapi-section">
      <div class="mkapi-section-body"><p>Slurm scheduler</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">**kwargs</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Other arguments for the scheduler</span></li>



</ul></div>
    </div>
  <div class="mkapi-section attributes">
      <div class="mkapi-section-name attributes">
          <span class="mkapi-section-name-body attributes">Attributes</span> 
        </div>
      <div class="mkapi-section-body attributes"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job_class</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job class</span></li>

<li><code class="mkapi-item-name">jobcmd_wrapper_init</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The init script for the job command wrapper</span></li>

<li class="readonly-property"><code class="mkapi-item-name">jobcmd_wrapper_init</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The init script for the job command wrapper<span id="xqute.scheduler.Scheduler.jobcmd_wrapper_init"></span><a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_wrapper_init" title="Source for xqute.scheduler.Scheduler.jobcmd_wrapper_init">&lt;/&gt;</a></span></li>

<li><code class="mkapi-item-name">name</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The name of the scheduler</span></li>





</ul></div>
    </div>
  <div class="mkapi-section methods">
      <div class="mkapi-section-name methods">
          <span class="mkapi-section-name-body methods">Methods</span> 
        </div>
      <div class="mkapi-section-body methods"><ul class="mkapi-items">
<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.check_all_done">check_all_done</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code>, <code class="mkapi-object-signature">polling_counter</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if all jobs are done (full polling with hooks)<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.check_all_done" title="Source for xqute.scheduler.Scheduler.check_all_done">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.count_running_jobs">count_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Count currently running/active jobs (lightweight check)<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.count_running_jobs" title="Source for xqute.scheduler.Scheduler.count_running_jobs">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.create_job">create_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">index</code>, <code class="mkapi-object-signature">cmd</code>, <code class="mkapi-object-signature">envs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Create a job<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.create_job" title="Source for xqute.scheduler.Scheduler.create_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.slurm_scheduler.SlurmScheduler.job_fails_before_running">job_fails_before_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job fails before running.<a class="mkapi-src-link" href="../source/xqute.schedulers.slurm_scheduler/#xqute.schedulers.slurm_scheduler.SlurmScheduler.job_fails_before_running" title="Source for xqute.schedulers.slurm_scheduler.SlurmScheduler.job_fails_before_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.slurm_scheduler.SlurmScheduler.job_is_running">job_is_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Tell if a job is really running, not only the job.jid_file<a class="mkapi-src-link" href="../source/xqute.schedulers.slurm_scheduler/#xqute.schedulers.slurm_scheduler.SlurmScheduler.job_is_running" title="Source for xqute.schedulers.slurm_scheduler.SlurmScheduler.job_is_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.job_is_submitted_or_running">job_is_submitted_or_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job is already submitted or running<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_is_submitted_or_running" title="Source for xqute.scheduler.Scheduler.job_is_submitted_or_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_end">jobcmd_end</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command end<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_end" title="Source for xqute.scheduler.Scheduler.jobcmd_end">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_init">jobcmd_init</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command init<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_init" title="Source for xqute.scheduler.Scheduler.jobcmd_init">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_prep">jobcmd_prep</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command preparation<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_prep" title="Source for xqute.scheduler.Scheduler.jobcmd_prep">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.slurm_scheduler.SlurmScheduler.jobcmd_shebang">jobcmd_shebang</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The shebang of the wrapper script<a class="mkapi-src-link" href="../source/xqute.schedulers.slurm_scheduler/#xqute.schedulers.slurm_scheduler.SlurmScheduler.jobcmd_shebang" title="Source for xqute.schedulers.slurm_scheduler.SlurmScheduler.jobcmd_shebang">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.slurm_scheduler.SlurmScheduler.kill_job">kill_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Kill a job on Slurm<a class="mkapi-src-link" href="../source/xqute.schedulers.slurm_scheduler/#xqute.schedulers.slurm_scheduler.SlurmScheduler.kill_job" title="Source for xqute.schedulers.slurm_scheduler.SlurmScheduler.kill_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.kill_job_and_update_status">kill_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Kill a job and update its status<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_job_and_update_status" title="Source for xqute.scheduler.Scheduler.kill_job_and_update_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.kill_running_jobs">kill_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Try to kill all running jobs<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_running_jobs" title="Source for xqute.scheduler.Scheduler.kill_running_jobs">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.retry_job">retry_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Retry a job<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.retry_job" title="Source for xqute.scheduler.Scheduler.retry_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.slurm_scheduler.SlurmScheduler.submit_job">submit_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Submit a job to Slurm<a class="mkapi-src-link" href="../source/xqute.schedulers.slurm_scheduler/#xqute.schedulers.slurm_scheduler.SlurmScheduler.submit_job" title="Source for xqute.schedulers.slurm_scheduler.SlurmScheduler.submit_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.submit_job_and_update_status">submit_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Submit and update the status<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.submit_job_and_update_status" title="Source for xqute.scheduler.Scheduler.submit_job_and_update_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.transition_job_status">transition_job_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code>, <code class="mkapi-object-signature">new_status</code>, <code class="mkapi-object-signature">old_status</code>, <code class="mkapi-object-signature">flush</code>, <code class="mkapi-object-signature">rc</code>, <code class="mkapi-object-signature">error_msg</code>, <code class="mkapi-object-signature">is_killed</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Centralized status transition handler<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.transition_job_status" title="Source for xqute.scheduler.Scheduler.transition_job_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.wrap_job_script">wrap_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Wrap the job script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrap_job_script" title="Source for xqute.scheduler.Scheduler.wrap_job_script">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.wrapped_job_script">wrapped_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(SpecPath)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Get the wrapped job script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrapped_job_script" title="Source for xqute.scheduler.Scheduler.wrapped_job_script">&lt;/&gt;</a></span></li>


</ul></div>
    </div>
  </div>

  <div class="mkapi-members">
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.create_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercreate_job_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercreate_job_2">create_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">index</code>, <code class="mkapi-object-signature">cmd</code>, <code class="mkapi-object-signature">envs=None</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.create_job" title="Source for xqute.scheduler.Scheduler.create_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Create a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">index</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The index of the job</span></li>

<li><code class="mkapi-item-name">cmd</code>
<span class="mkapi-item-type">(Union)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The command of the job</span></li>



</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(Job)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The job</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.submit_job_and_update_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulersubmit_job_and_update_status_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulersubmit_job_and_update_status_2">submit_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.submit_job_and_update_status" title="Source for xqute.scheduler.Scheduler.submit_job_and_update_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Submit and update the status</p><ol>
<li>Check if the job is already submitted or running</li>
<li>If not, run the hook</li>
<li>If the hook is not cancelled, clean the job</li>
<li>Submit the job, raising an exception if it fails</li>
<li>If the job is submitted successfully, update the status</li>
<li>If the job fails to submit, update the status and write stderr to
    the job file</li>
</ol>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.transition_job_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulertransition_job_status_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulertransition_job_status_2">transition_job_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code>, <code class="mkapi-object-signature">new_status</code>, <code class="mkapi-object-signature">old_status=None</code>, <code class="mkapi-object-signature">flush=True</code>, <code class="mkapi-object-signature">rc=None</code>, <code class="mkapi-object-signature">error_msg=None</code>, <code class="mkapi-object-signature">is_killed=False</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.transition_job_status" title="Source for xqute.scheduler.Scheduler.transition_job_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Centralized status transition handler</p><p>Handles all aspects of job status transitions:
<ul><li>- Status change logging</li><li>- Hook lifecycle management (ensuring on_job_started is called)</li><li>- Appropriate hook calls based on new status</li><li>- RC file updates</li><li>- Error message appending to stderr</li><li>- JID file cleanup for terminal states</li><li>- Pipeline halt on errors if configured</p></li></ul><p>Note that this method will not flush status changes to disk (job.status_file).You need to call job.set_status() separately if needed.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job to transition</span></li>

<li><code class="mkapi-item-name">new_status</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The new status to transition to</span></li>

<li><code class="mkapi-item-name">old_status</code>
<span class="mkapi-item-type">(int | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The previous status (if known).If None, will use job._status
</span></li>

<li><code class="mkapi-item-name">flush</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether to flush the status to disk</span></li>

<li><code class="mkapi-item-name">rc</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Optional return code to write to rc_file</span></li>

<li><code class="mkapi-item-name">error_msg</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Optional error message to append to stderr_file</span></li>

<li><code class="mkapi-item-name">is_killed</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether this is a killed job (uses on_job_killed hook)</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.kill_job_and_update_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerkill_job_and_update_status_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerkill_job_and_update_status_2">kill_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_job_and_update_status" title="Source for xqute.scheduler.Scheduler.kill_job_and_update_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Kill a job and update its status</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.retry_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerretry_job_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerretry_job_2">retry_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.retry_job" title="Source for xqute.scheduler.Scheduler.retry_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Retry a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.count_running_jobs">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercount_running_jobs_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercount_running_jobs_2">count_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.count_running_jobs" title="Source for xqute.scheduler.Scheduler.count_running_jobs">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Count currently running/active jobs (lightweight check)</p><p>This is optimized for the producer to check if new jobs can be submitted.
It only counts jobs without refreshing status or calling hooks.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(int)</span>
        </div>
      <div class="mkapi-section-body returns"><p>Number of jobs currently in active states</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.check_all_done">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercheck_all_done_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercheck_all_done_2">check_all_done</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code>, <code class="mkapi-object-signature">polling_counter</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.check_all_done" title="Source for xqute.scheduler.Scheduler.check_all_done">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if all jobs are done (full polling with hooks)</p><p>This does complete status refresh and calls all lifecycle hooks.
Used by the main polling loop to track job completion.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>

<li><code class="mkapi-item-name">polling_counter</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The polling counter for hook calls</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if all jobs are done, False otherwise</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.kill_running_jobs">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerkill_running_jobs_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerkill_running_jobs_2">kill_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_running_jobs" title="Source for xqute.scheduler.Scheduler.kill_running_jobs">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Try to kill all running jobs</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.job_is_submitted_or_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjob_is_submitted_or_running_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjob_is_submitted_or_running_2">job_is_submitted_or_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_is_submitted_or_running" title="Source for xqute.scheduler.Scheduler.job_is_submitted_or_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job is already submitted or running</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if yes otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_init">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_init_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_init_2">jobcmd_init</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_init" title="Source for xqute.scheduler.Scheduler.jobcmd_init">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command init</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_prep">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_prep_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_prep_1">jobcmd_prep</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_prep" title="Source for xqute.scheduler.Scheduler.jobcmd_prep">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command preparation</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_end">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_end_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_end_2">jobcmd_end</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_end" title="Source for xqute.scheduler.Scheduler.jobcmd_end">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command end</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.wrap_job_script">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerwrap_job_script_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerwrap_job_script_2">wrap_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrap_job_script" title="Source for xqute.scheduler.Scheduler.wrap_job_script">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Wrap the job script</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(str)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The wrapped script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.wrapped_job_script">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerwrapped_job_script_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerwrapped_job_script_2">wrapped_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrapped_job_script" title="Source for xqute.scheduler.Scheduler.wrapped_job_script">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Get the wrapped job script</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(SpecPath)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The path of the wrapped job script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.slurm_scheduler.SlurmScheduler.jobcmd_shebang">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersslurm_schedulerslurmschedulerjobcmd_shebang" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersslurm_schedulerslurmschedulerjobcmd_shebang">jobcmd_shebang</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.slurm_scheduler/#xqute.schedulers.slurm_scheduler.SlurmScheduler.jobcmd_shebang" title="Source for xqute.schedulers.slurm_scheduler.SlurmScheduler.jobcmd_shebang">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The shebang of the wrapper script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.slurm_scheduler.SlurmScheduler.submit_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersslurm_schedulerslurmschedulersubmit_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersslurm_schedulerslurmschedulersubmit_job">submit_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.slurm_scheduler/#xqute.schedulers.slurm_scheduler.SlurmScheduler.submit_job" title="Source for xqute.schedulers.slurm_scheduler.SlurmScheduler.submit_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Submit a job to Slurm</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(str)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The job id</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.slurm_scheduler.SlurmScheduler.kill_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersslurm_schedulerslurmschedulerkill_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersslurm_schedulerslurmschedulerkill_job">kill_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.slurm_scheduler/#xqute.schedulers.slurm_scheduler.SlurmScheduler.kill_job" title="Source for xqute.schedulers.slurm_scheduler.SlurmScheduler.kill_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Kill a job on Slurm</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.slurm_scheduler.SlurmScheduler.job_fails_before_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersslurm_schedulerslurmschedulerjob_fails_before_running" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersslurm_schedulerslurmschedulerjob_fails_before_running">job_fails_before_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.slurm_scheduler/#xqute.schedulers.slurm_scheduler.SlurmScheduler.job_fails_before_running" title="Source for xqute.schedulers.slurm_scheduler.SlurmScheduler.job_fails_before_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job fails before running.</p><p>For some schedulers, the job might fail before running (after submission).
For example, the job might fail to allocate resources. In such a case,
the wrapped script might not be executed, and the job status will not be
updated (stays in SUBMITTED). We need to check such jobs and mark them as
FAILED.</p>
<p>For the instant scheduler, for example, the local scheduler, the failure will
be immediately reported when submitting the job, so we don't need to check
such jobs.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job to check</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if the job fails before running, otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.slurm_scheduler.SlurmScheduler.job_is_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersslurm_schedulerslurmschedulerjob_is_running" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersslurm_schedulerslurmschedulerjob_is_running">job_is_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.slurm_scheduler/#xqute.schedulers.slurm_scheduler.SlurmScheduler.job_is_running" title="Source for xqute.schedulers.slurm_scheduler.SlurmScheduler.job_is_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Tell if a job is really running, not only the job.jid_file</p><p>In case where the jid file is not cleaned when job is done.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if it is, otherwise False</p></div>
    </div>
  </div>

</div>
    </div>
  
  </div>

</div>

<div class="mkapi-node" id="pipen.scheduler.SshScheduler">
<div class='mkapi-object-container'>
  <div class="mkapi-object class code top">
    <div class="mkapi-object-kind class top">class</div>
    <h3 id="pipenschedulersshscheduler" class="mkapi-object-body class top"><code class="mkapi-object-prefix">pipen.scheduler.</code><code class="mkapi-object-name">SshScheduler</code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">*args</code>, <code class="mkapi-object-signature">**kwargs</code><code class="mkapi-object-parenthesis">)</code></h3>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.SshScheduler" title="Source for pipen.scheduler.SshScheduler">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section bases">
      <div class="mkapi-section-name bases">
          <span class="mkapi-section-name-body bases">Bases</span> 
        </div>
      <div class="mkapi-section-body bases">
<span class="mkapi-base"><a href="./#pipen.scheduler.SchedulerPostInit">pipen.scheduler.SchedulerPostInit</a></span>

<span class="mkapi-base">xqute.schedulers.ssh_scheduler.scheduler.SshScheduler</span>

<span class="mkapi-base">xqute.schedulers.local_scheduler.LocalScheduler</span>

<span class="mkapi-base">xqute.scheduler.Scheduler</span>
</div>
    </div>
  <div class="mkapi-section">
      <div class="mkapi-section-body"><p>SSH scheduler</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">**kwargs</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Other arguments for the scheduler</span></li>



</ul></div>
    </div>
  <div class="mkapi-section attributes">
      <div class="mkapi-section-name attributes">
          <span class="mkapi-section-name-body attributes">Attributes</span> 
        </div>
      <div class="mkapi-section-body attributes"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job_class</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job class</span></li>

<li><code class="mkapi-item-name">jobcmd_wrapper_init</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The init script for the job command wrapper</span></li>

<li class="readonly-property"><code class="mkapi-item-name">jobcmd_wrapper_init</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The init script for the job command wrapper<span id="xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_wrapper_init"></span><a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_wrapper_init" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_wrapper_init">&lt;/&gt;</a></span></li>

<li><code class="mkapi-item-name">name</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The name of the scheduler</span></li>




</ul></div>
    </div>
  <div class="mkapi-section methods">
      <div class="mkapi-section-name methods">
          <span class="mkapi-section-name-body methods">Methods</span> 
        </div>
      <div class="mkapi-section-body methods"><ul class="mkapi-items">
<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.check_all_done">check_all_done</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code>, <code class="mkapi-object-signature">polling_counter</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if all jobs are done (full polling with hooks)<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.check_all_done" title="Source for xqute.scheduler.Scheduler.check_all_done">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.count_running_jobs">count_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Count currently running/active jobs (lightweight check)<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.count_running_jobs" title="Source for xqute.scheduler.Scheduler.count_running_jobs">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.create_job">create_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">index</code>, <code class="mkapi-object-signature">cmd</code>, <code class="mkapi-object-signature">envs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Create a job<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.create_job" title="Source for xqute.scheduler.Scheduler.create_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.job_fails_before_running">job_fails_before_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job fails before running.<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_fails_before_running" title="Source for xqute.scheduler.Scheduler.job_fails_before_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.job_is_running">job_is_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Tell if a job is really running, not only the job.jid_file<a class="mkapi-src-link" href="../source/xqute.schedulers.ssh_scheduler.scheduler/#xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.job_is_running" title="Source for xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.job_is_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.job_is_submitted_or_running">job_is_submitted_or_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job is already submitted or running<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_is_submitted_or_running" title="Source for xqute.scheduler.Scheduler.job_is_submitted_or_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_end">jobcmd_end</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command end<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_end" title="Source for xqute.scheduler.Scheduler.jobcmd_end">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_init">jobcmd_init</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command init<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_init" title="Source for xqute.scheduler.Scheduler.jobcmd_init">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep">jobcmd_prep</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command preparation<a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_shebang">jobcmd_shebang</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The shebang of the wrapper script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_shebang" title="Source for xqute.scheduler.Scheduler.jobcmd_shebang">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.kill_job">kill_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Kill a job on SSH<a class="mkapi-src-link" href="../source/xqute.schedulers.ssh_scheduler.scheduler/#xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.kill_job" title="Source for xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.kill_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.kill_job_and_update_status">kill_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Kill a job and update its status<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_job_and_update_status" title="Source for xqute.scheduler.Scheduler.kill_job_and_update_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.kill_running_jobs">kill_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Try to kill all running jobs<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_running_jobs" title="Source for xqute.scheduler.Scheduler.kill_running_jobs">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.retry_job">retry_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Retry a job<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.retry_job" title="Source for xqute.scheduler.Scheduler.retry_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.submit_job">submit_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Submit a job to SSH<a class="mkapi-src-link" href="../source/xqute.schedulers.ssh_scheduler.scheduler/#xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.submit_job" title="Source for xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.submit_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.submit_job_and_update_status">submit_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Submit and update the status<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.submit_job_and_update_status" title="Source for xqute.scheduler.Scheduler.submit_job_and_update_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.transition_job_status">transition_job_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code>, <code class="mkapi-object-signature">new_status</code>, <code class="mkapi-object-signature">old_status</code>, <code class="mkapi-object-signature">flush</code>, <code class="mkapi-object-signature">rc</code>, <code class="mkapi-object-signature">error_msg</code>, <code class="mkapi-object-signature">is_killed</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Centralized status transition handler<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.transition_job_status" title="Source for xqute.scheduler.Scheduler.transition_job_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.wrap_job_script">wrap_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Wrap the job script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrap_job_script" title="Source for xqute.scheduler.Scheduler.wrap_job_script">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.wrapped_job_script">wrapped_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(SpecPath)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Get the wrapped job script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrapped_job_script" title="Source for xqute.scheduler.Scheduler.wrapped_job_script">&lt;/&gt;</a></span></li>


</ul></div>
    </div>
  </div>

  <div class="mkapi-members">
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.create_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercreate_job_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercreate_job_3">create_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">index</code>, <code class="mkapi-object-signature">cmd</code>, <code class="mkapi-object-signature">envs=None</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.create_job" title="Source for xqute.scheduler.Scheduler.create_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Create a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">index</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The index of the job</span></li>

<li><code class="mkapi-item-name">cmd</code>
<span class="mkapi-item-type">(Union)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The command of the job</span></li>



</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(Job)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The job</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.submit_job_and_update_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulersubmit_job_and_update_status_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulersubmit_job_and_update_status_3">submit_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.submit_job_and_update_status" title="Source for xqute.scheduler.Scheduler.submit_job_and_update_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Submit and update the status</p><ol>
<li>Check if the job is already submitted or running</li>
<li>If not, run the hook</li>
<li>If the hook is not cancelled, clean the job</li>
<li>Submit the job, raising an exception if it fails</li>
<li>If the job is submitted successfully, update the status</li>
<li>If the job fails to submit, update the status and write stderr to
    the job file</li>
</ol>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.transition_job_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulertransition_job_status_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulertransition_job_status_3">transition_job_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code>, <code class="mkapi-object-signature">new_status</code>, <code class="mkapi-object-signature">old_status=None</code>, <code class="mkapi-object-signature">flush=True</code>, <code class="mkapi-object-signature">rc=None</code>, <code class="mkapi-object-signature">error_msg=None</code>, <code class="mkapi-object-signature">is_killed=False</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.transition_job_status" title="Source for xqute.scheduler.Scheduler.transition_job_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Centralized status transition handler</p><p>Handles all aspects of job status transitions:
<ul><li>- Status change logging</li><li>- Hook lifecycle management (ensuring on_job_started is called)</li><li>- Appropriate hook calls based on new status</li><li>- RC file updates</li><li>- Error message appending to stderr</li><li>- JID file cleanup for terminal states</li><li>- Pipeline halt on errors if configured</p></li></ul><p>Note that this method will not flush status changes to disk (job.status_file).You need to call job.set_status() separately if needed.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job to transition</span></li>

<li><code class="mkapi-item-name">new_status</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The new status to transition to</span></li>

<li><code class="mkapi-item-name">old_status</code>
<span class="mkapi-item-type">(int | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The previous status (if known).If None, will use job._status
</span></li>

<li><code class="mkapi-item-name">flush</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether to flush the status to disk</span></li>

<li><code class="mkapi-item-name">rc</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Optional return code to write to rc_file</span></li>

<li><code class="mkapi-item-name">error_msg</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Optional error message to append to stderr_file</span></li>

<li><code class="mkapi-item-name">is_killed</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether this is a killed job (uses on_job_killed hook)</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.kill_job_and_update_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerkill_job_and_update_status_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerkill_job_and_update_status_3">kill_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_job_and_update_status" title="Source for xqute.scheduler.Scheduler.kill_job_and_update_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Kill a job and update its status</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.retry_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerretry_job_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerretry_job_3">retry_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.retry_job" title="Source for xqute.scheduler.Scheduler.retry_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Retry a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.count_running_jobs">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercount_running_jobs_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercount_running_jobs_3">count_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.count_running_jobs" title="Source for xqute.scheduler.Scheduler.count_running_jobs">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Count currently running/active jobs (lightweight check)</p><p>This is optimized for the producer to check if new jobs can be submitted.
It only counts jobs without refreshing status or calling hooks.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(int)</span>
        </div>
      <div class="mkapi-section-body returns"><p>Number of jobs currently in active states</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.check_all_done">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercheck_all_done_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercheck_all_done_3">check_all_done</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code>, <code class="mkapi-object-signature">polling_counter</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.check_all_done" title="Source for xqute.scheduler.Scheduler.check_all_done">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if all jobs are done (full polling with hooks)</p><p>This does complete status refresh and calls all lifecycle hooks.
Used by the main polling loop to track job completion.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>

<li><code class="mkapi-item-name">polling_counter</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The polling counter for hook calls</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if all jobs are done, False otherwise</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.kill_running_jobs">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerkill_running_jobs_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerkill_running_jobs_3">kill_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_running_jobs" title="Source for xqute.scheduler.Scheduler.kill_running_jobs">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Try to kill all running jobs</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.job_is_submitted_or_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjob_is_submitted_or_running_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjob_is_submitted_or_running_3">job_is_submitted_or_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_is_submitted_or_running" title="Source for xqute.scheduler.Scheduler.job_is_submitted_or_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job is already submitted or running</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if yes otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.job_fails_before_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjob_fails_before_running_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjob_fails_before_running_2">job_fails_before_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_fails_before_running" title="Source for xqute.scheduler.Scheduler.job_fails_before_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job fails before running.</p><p>For some schedulers, the job might fail before running (after submission).
For example, the job might fail to allocate resources. In such a case,
the wrapped script might not be executed, and the job status will not be
updated (stays in SUBMITTED). We need to check such jobs and mark them as
FAILED.</p>
<p>For the instant scheduler, for example, the local scheduler, the failure will
be immediately reported when submitting the job, so we don't need to check
such jobs.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job to check</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if the job fails before running, otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_shebang">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_shebang_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_shebang_1">jobcmd_shebang</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_shebang" title="Source for xqute.scheduler.Scheduler.jobcmd_shebang">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The shebang of the wrapper script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_init">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_init_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_init_3">jobcmd_init</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_init" title="Source for xqute.scheduler.Scheduler.jobcmd_init">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command init</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_end">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_end_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_end_3">jobcmd_end</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_end" title="Source for xqute.scheduler.Scheduler.jobcmd_end">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command end</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.wrap_job_script">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerwrap_job_script_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerwrap_job_script_3">wrap_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrap_job_script" title="Source for xqute.scheduler.Scheduler.wrap_job_script">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Wrap the job script</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(str)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The wrapped script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.wrapped_job_script">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerwrapped_job_script_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerwrapped_job_script_3">wrapped_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrapped_job_script" title="Source for xqute.scheduler.Scheduler.wrapped_job_script">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Get the wrapped job script</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(SpecPath)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The path of the wrapped job script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerslocal_schedulerlocalschedulerjobcmd_prep_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerslocal_schedulerlocalschedulerjobcmd_prep_1">jobcmd_prep</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command preparation</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.submit_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersssh_schedulerschedulersshschedulersubmit_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersssh_schedulerschedulersshschedulersubmit_job">submit_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.ssh_scheduler.scheduler/#xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.submit_job" title="Source for xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.submit_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Submit a job to SSH</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(str)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The job id</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.kill_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersssh_schedulerschedulersshschedulerkill_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersssh_schedulerschedulersshschedulerkill_job">kill_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.ssh_scheduler.scheduler/#xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.kill_job" title="Source for xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.kill_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Kill a job on SSH</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.job_is_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersssh_schedulerschedulersshschedulerjob_is_running" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersssh_schedulerschedulersshschedulerjob_is_running">job_is_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.ssh_scheduler.scheduler/#xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.job_is_running" title="Source for xqute.schedulers.ssh_scheduler.scheduler.SshScheduler.job_is_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Tell if a job is really running, not only the job.jid_file</p><p>In case where the jid file is not cleaned when job is done.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if it is, otherwise False</p></div>
    </div>
  </div>

</div>
    </div>
  
  </div>

</div>

<div class="mkapi-node" id="pipen.scheduler.GbatchScheduler">
<div class='mkapi-object-container'>
  <div class="mkapi-object class code top">
    <div class="mkapi-object-kind class top">class</div>
    <h3 id="pipenschedulergbatchscheduler" class="mkapi-object-body class top"><code class="mkapi-object-prefix">pipen.scheduler.</code><code class="mkapi-object-name">GbatchScheduler</code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">*args</code>, <code class="mkapi-object-signature">project</code>, <code class="mkapi-object-signature">location</code>, <code class="mkapi-object-signature">mount=None</code>, <code class="mkapi-object-signature">service_account=None</code>, <code class="mkapi-object-signature">network=None</code>, <code class="mkapi-object-signature">subnetwork=None</code>, <code class="mkapi-object-signature">no_external_ip_address=None</code>, <code class="mkapi-object-signature">machine_type=None</code>, <code class="mkapi-object-signature">provisioning_model=None</code>, <code class="mkapi-object-signature">image_uri=None</code>, <code class="mkapi-object-signature">entrypoint=None</code>, <code class="mkapi-object-signature">commands=None</code>, <code class="mkapi-object-signature">runnables=None</code>, <code class="mkapi-object-signature">**kwargs</code><code class="mkapi-object-parenthesis">)</code></h3>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.GbatchScheduler" title="Source for pipen.scheduler.GbatchScheduler">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section bases">
      <div class="mkapi-section-name bases">
          <span class="mkapi-section-name-body bases">Bases</span> 
        </div>
      <div class="mkapi-section-body bases">
<span class="mkapi-base"><a href="./#pipen.scheduler.SchedulerPostInit">pipen.scheduler.SchedulerPostInit</a></span>

<span class="mkapi-base">xqute.schedulers.gbatch_scheduler.GbatchScheduler</span>

<span class="mkapi-base">xqute.scheduler.Scheduler</span>
</div>
    </div>
  <div class="mkapi-section">
      <div class="mkapi-section-body"><p>Google Cloud Batch scheduler</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">**kwargs</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Keyword arguments for the configuration of a job (e.g. taskGroups).See more details at <a href="https://cloud.google.com/batch/docs/get-started">https://cloud.google.com/batch/docs/get-started</a>.
</span></li>

<li><code class="mkapi-item-name">*args</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Positional arguments for the base class</span></li>

<li><code class="mkapi-item-name">project</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Google Cloud project ID</span></li>

<li><code class="mkapi-item-name">location</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Google Cloud region or zone</span></li>

<li><code class="mkapi-item-name">mount</code>
<span class="mkapi-item-type">(str | Sequence[str] | None, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">GCS path to mount (e.g. gs://my-bucket:/mnt/my-bucket)You can pass a list of mounts.
</span></li>

<li><code class="mkapi-item-name">service_account</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">GCP service account email (e.g. test-account@example.com)</span></li>

<li><code class="mkapi-item-name">network</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">GCP network (e.g. default-network)</span></li>

<li><code class="mkapi-item-name">subnetwork</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">GCP subnetwork (e.g. regions/us-central1/subnetworks/default)</span></li>

<li><code class="mkapi-item-name">no_external_ip_address</code>
<span class="mkapi-item-type">(bool | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether to disable external IP address</span></li>

<li><code class="mkapi-item-name">machine_type</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">GCP machine type (e.g. e2-standard-4)</span></li>

<li><code class="mkapi-item-name">provisioning_model</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">GCP provisioning model (e.g. SPOT)</span></li>

<li><code class="mkapi-item-name">image_uri</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Container image URI (e.g. ubuntu-2004-lts)</span></li>

<li><code class="mkapi-item-name">entrypoint</code>
<span class="mkapi-item-type">(str, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Container entrypoint (e.g. /bin/bash)</span></li>

<li><code class="mkapi-item-name">commands</code>
<span class="mkapi-item-type">(str | Sequence[str] | None, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The command list to run in the container.There are three ways to specify the commands:
1. If no entrypoint is specified, the final command will be
[commands, wrapped_script], where the entrypoint is the wrapper script
interpreter that is determined by <code>JOBCMD_WRAPPER_LANG</code> (e.g. /bin/bash),
commands is the list you provided, and wrapped_script is the path to the
wrapped job script.
2. You can specify something like "-c", then the final command
will be ["-c", "wrapper_script_interpreter, wrapper_script"]
3. You can use the placeholders <code>{lang}</code> and <code>{script}</code> in the commands
list, where <code>{lang}</code> will be replaced with the interpreter (e.g. /bin/bash)
and <code>{script}</code> will be replaced with the path to the wrapped job script.
For example, you can specify ["{lang} {script}"] and the final command
will be ["wrapper_interpreter, wrapper_script"]
</span></li>

<li><code class="mkapi-item-name">runnables</code>
<span class="mkapi-item-type">(Sequence[dict] | None, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Additional runnables to run before or after the main job.Each runnable should be a dictionary that follows the
<a href="https://cloud.google.com/batch/docs/reference/rest/v1/projects.locations.jobs#runnable">GCP Batch API specification</a>.
You can also specify an "order" key in the dictionary to control the
execution order of the runnables. Runnables with negative order
will be executed before the main job, and those with non-negative
order will be executed after the main job. The main job runnable
will always be executed in the order it is defined in the list.
</span></li>


</ul></div>
    </div>
  <div class="mkapi-section attributes">
      <div class="mkapi-section-name attributes">
          <span class="mkapi-section-name-body attributes">Attributes</span> 
        </div>
      <div class="mkapi-section-body attributes"><ul class="mkapi-items">


<li><code class="mkapi-item-name">jobcmd_wrapper_init</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The init script for the job command wrapper</span></li>

<li class="readonly-property"><code class="mkapi-item-name">jobcmd_wrapper_init</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The init script for the job command wrapper<span id="xqute.scheduler.Scheduler.jobcmd_wrapper_init"></span><a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_wrapper_init" title="Source for xqute.scheduler.Scheduler.jobcmd_wrapper_init">&lt;/&gt;</a></span></li>


<li><code class="mkapi-item-name">name</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The name of the scheduler</span></li>





</ul></div>
    </div>
  <div class="mkapi-section methods">
      <div class="mkapi-section-name methods">
          <span class="mkapi-section-name-body methods">Methods</span> 
        </div>
      <div class="mkapi-section-body methods"><ul class="mkapi-items">
<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.check_all_done">check_all_done</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code>, <code class="mkapi-object-signature">polling_counter</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if all jobs are done (full polling with hooks)<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.check_all_done" title="Source for xqute.scheduler.Scheduler.check_all_done">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.count_running_jobs">count_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Count currently running/active jobs (lightweight check)<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.count_running_jobs" title="Source for xqute.scheduler.Scheduler.count_running_jobs">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.create_job">create_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">index</code>, <code class="mkapi-object-signature">cmd</code>, <code class="mkapi-object-signature">envs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Create a job<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.create_job" title="Source for xqute.scheduler.Scheduler.create_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.gbatch_scheduler.GbatchScheduler.job_fails_before_running">job_fails_before_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job fails before running.<a class="mkapi-src-link" href="../source/xqute.schedulers.gbatch_scheduler/#xqute.schedulers.gbatch_scheduler.GbatchScheduler.job_fails_before_running" title="Source for xqute.schedulers.gbatch_scheduler.GbatchScheduler.job_fails_before_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.gbatch_scheduler.GbatchScheduler.job_is_running">job_is_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job is really running<a class="mkapi-src-link" href="../source/xqute.schedulers.gbatch_scheduler/#xqute.schedulers.gbatch_scheduler.GbatchScheduler.job_is_running" title="Source for xqute.schedulers.gbatch_scheduler.GbatchScheduler.job_is_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.job_is_submitted_or_running">job_is_submitted_or_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job is already submitted or running<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_is_submitted_or_running" title="Source for xqute.scheduler.Scheduler.job_is_submitted_or_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_end">jobcmd_end</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command end<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_end" title="Source for xqute.scheduler.Scheduler.jobcmd_end">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.gbatch_scheduler.GbatchScheduler.jobcmd_init">jobcmd_init</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command init<a class="mkapi-src-link" href="../source/xqute.schedulers.gbatch_scheduler/#xqute.schedulers.gbatch_scheduler.GbatchScheduler.jobcmd_init" title="Source for xqute.schedulers.gbatch_scheduler.GbatchScheduler.jobcmd_init">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_prep">jobcmd_prep</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command preparation<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_prep" title="Source for xqute.scheduler.Scheduler.jobcmd_prep">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_shebang">jobcmd_shebang</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The shebang of the wrapper script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_shebang" title="Source for xqute.scheduler.Scheduler.jobcmd_shebang">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.gbatch_scheduler.GbatchScheduler.kill_job">kill_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Kill a job<a class="mkapi-src-link" href="../source/xqute.schedulers.gbatch_scheduler/#xqute.schedulers.gbatch_scheduler.GbatchScheduler.kill_job" title="Source for xqute.schedulers.gbatch_scheduler.GbatchScheduler.kill_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.kill_job_and_update_status">kill_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Kill a job and update its status<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_job_and_update_status" title="Source for xqute.scheduler.Scheduler.kill_job_and_update_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.kill_running_jobs">kill_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Try to kill all running jobs<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_running_jobs" title="Source for xqute.scheduler.Scheduler.kill_running_jobs">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.retry_job">retry_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Retry a job<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.retry_job" title="Source for xqute.scheduler.Scheduler.retry_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.gbatch_scheduler.GbatchScheduler.submit_job">submit_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Submit a job<a class="mkapi-src-link" href="../source/xqute.schedulers.gbatch_scheduler/#xqute.schedulers.gbatch_scheduler.GbatchScheduler.submit_job" title="Source for xqute.schedulers.gbatch_scheduler.GbatchScheduler.submit_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.submit_job_and_update_status">submit_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Submit and update the status<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.submit_job_and_update_status" title="Source for xqute.scheduler.Scheduler.submit_job_and_update_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.transition_job_status">transition_job_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code>, <code class="mkapi-object-signature">new_status</code>, <code class="mkapi-object-signature">old_status</code>, <code class="mkapi-object-signature">flush</code>, <code class="mkapi-object-signature">rc</code>, <code class="mkapi-object-signature">error_msg</code>, <code class="mkapi-object-signature">is_killed</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Centralized status transition handler<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.transition_job_status" title="Source for xqute.scheduler.Scheduler.transition_job_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.wrap_job_script">wrap_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Wrap the job script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrap_job_script" title="Source for xqute.scheduler.Scheduler.wrap_job_script">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.wrapped_job_script">wrapped_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(SpecPath)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Get the wrapped job script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrapped_job_script" title="Source for xqute.scheduler.Scheduler.wrapped_job_script">&lt;/&gt;</a></span></li>


</ul></div>
    </div>
  </div>

  <div class="mkapi-members">
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.create_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercreate_job_4" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercreate_job_4">create_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">index</code>, <code class="mkapi-object-signature">cmd</code>, <code class="mkapi-object-signature">envs=None</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.create_job" title="Source for xqute.scheduler.Scheduler.create_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Create a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">index</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The index of the job</span></li>

<li><code class="mkapi-item-name">cmd</code>
<span class="mkapi-item-type">(Union)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The command of the job</span></li>



</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(Job)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The job</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.submit_job_and_update_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulersubmit_job_and_update_status_4" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulersubmit_job_and_update_status_4">submit_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.submit_job_and_update_status" title="Source for xqute.scheduler.Scheduler.submit_job_and_update_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Submit and update the status</p><ol>
<li>Check if the job is already submitted or running</li>
<li>If not, run the hook</li>
<li>If the hook is not cancelled, clean the job</li>
<li>Submit the job, raising an exception if it fails</li>
<li>If the job is submitted successfully, update the status</li>
<li>If the job fails to submit, update the status and write stderr to
    the job file</li>
</ol>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.transition_job_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulertransition_job_status_4" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulertransition_job_status_4">transition_job_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code>, <code class="mkapi-object-signature">new_status</code>, <code class="mkapi-object-signature">old_status=None</code>, <code class="mkapi-object-signature">flush=True</code>, <code class="mkapi-object-signature">rc=None</code>, <code class="mkapi-object-signature">error_msg=None</code>, <code class="mkapi-object-signature">is_killed=False</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.transition_job_status" title="Source for xqute.scheduler.Scheduler.transition_job_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Centralized status transition handler</p><p>Handles all aspects of job status transitions:
<ul><li>- Status change logging</li><li>- Hook lifecycle management (ensuring on_job_started is called)</li><li>- Appropriate hook calls based on new status</li><li>- RC file updates</li><li>- Error message appending to stderr</li><li>- JID file cleanup for terminal states</li><li>- Pipeline halt on errors if configured</p></li></ul><p>Note that this method will not flush status changes to disk (job.status_file).You need to call job.set_status() separately if needed.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job to transition</span></li>

<li><code class="mkapi-item-name">new_status</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The new status to transition to</span></li>

<li><code class="mkapi-item-name">old_status</code>
<span class="mkapi-item-type">(int | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The previous status (if known).If None, will use job._status
</span></li>

<li><code class="mkapi-item-name">flush</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether to flush the status to disk</span></li>

<li><code class="mkapi-item-name">rc</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Optional return code to write to rc_file</span></li>

<li><code class="mkapi-item-name">error_msg</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Optional error message to append to stderr_file</span></li>

<li><code class="mkapi-item-name">is_killed</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether this is a killed job (uses on_job_killed hook)</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.kill_job_and_update_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerkill_job_and_update_status_4" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerkill_job_and_update_status_4">kill_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_job_and_update_status" title="Source for xqute.scheduler.Scheduler.kill_job_and_update_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Kill a job and update its status</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.retry_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerretry_job_4" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerretry_job_4">retry_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.retry_job" title="Source for xqute.scheduler.Scheduler.retry_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Retry a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.count_running_jobs">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercount_running_jobs_4" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercount_running_jobs_4">count_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.count_running_jobs" title="Source for xqute.scheduler.Scheduler.count_running_jobs">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Count currently running/active jobs (lightweight check)</p><p>This is optimized for the producer to check if new jobs can be submitted.
It only counts jobs without refreshing status or calling hooks.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(int)</span>
        </div>
      <div class="mkapi-section-body returns"><p>Number of jobs currently in active states</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.check_all_done">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercheck_all_done_4" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercheck_all_done_4">check_all_done</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code>, <code class="mkapi-object-signature">polling_counter</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.check_all_done" title="Source for xqute.scheduler.Scheduler.check_all_done">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if all jobs are done (full polling with hooks)</p><p>This does complete status refresh and calls all lifecycle hooks.
Used by the main polling loop to track job completion.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>

<li><code class="mkapi-item-name">polling_counter</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The polling counter for hook calls</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if all jobs are done, False otherwise</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.kill_running_jobs">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerkill_running_jobs_4" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerkill_running_jobs_4">kill_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_running_jobs" title="Source for xqute.scheduler.Scheduler.kill_running_jobs">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Try to kill all running jobs</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.job_is_submitted_or_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjob_is_submitted_or_running_4" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjob_is_submitted_or_running_4">job_is_submitted_or_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_is_submitted_or_running" title="Source for xqute.scheduler.Scheduler.job_is_submitted_or_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job is already submitted or running</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if yes otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_shebang">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_shebang_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_shebang_2">jobcmd_shebang</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_shebang" title="Source for xqute.scheduler.Scheduler.jobcmd_shebang">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The shebang of the wrapper script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_prep">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_prep_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_prep_2">jobcmd_prep</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_prep" title="Source for xqute.scheduler.Scheduler.jobcmd_prep">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command preparation</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_end">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_end_4" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_end_4">jobcmd_end</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_end" title="Source for xqute.scheduler.Scheduler.jobcmd_end">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command end</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.wrap_job_script">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerwrap_job_script_4" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerwrap_job_script_4">wrap_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrap_job_script" title="Source for xqute.scheduler.Scheduler.wrap_job_script">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Wrap the job script</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(str)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The wrapped script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.wrapped_job_script">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerwrapped_job_script_4" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerwrapped_job_script_4">wrapped_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrapped_job_script" title="Source for xqute.scheduler.Scheduler.wrapped_job_script">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Get the wrapped job script</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(SpecPath)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The path of the wrapped job script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.gbatch_scheduler.GbatchScheduler.submit_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersgbatch_schedulergbatchschedulersubmit_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersgbatch_schedulergbatchschedulersubmit_job">submit_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.gbatch_scheduler/#xqute.schedulers.gbatch_scheduler.GbatchScheduler.submit_job" title="Source for xqute.schedulers.gbatch_scheduler.GbatchScheduler.submit_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Submit a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(str)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The unique id in the scheduler system</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.gbatch_scheduler.GbatchScheduler.kill_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersgbatch_schedulergbatchschedulerkill_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersgbatch_schedulergbatchschedulerkill_job">kill_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.gbatch_scheduler/#xqute.schedulers.gbatch_scheduler.GbatchScheduler.kill_job" title="Source for xqute.schedulers.gbatch_scheduler.GbatchScheduler.kill_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Kill a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.gbatch_scheduler.GbatchScheduler.job_fails_before_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersgbatch_schedulergbatchschedulerjob_fails_before_running" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersgbatch_schedulergbatchschedulerjob_fails_before_running">job_fails_before_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.gbatch_scheduler/#xqute.schedulers.gbatch_scheduler.GbatchScheduler.job_fails_before_running" title="Source for xqute.schedulers.gbatch_scheduler.GbatchScheduler.job_fails_before_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job fails before running.</p><p>For some schedulers, the job might fail before running (after submission).
For example, the job might fail to allocate resources. In such a case,
the wrapped script might not be executed, and the job status will not be
updated (stays in SUBMITTED). We need to check such jobs and mark them as
FAILED.</p>
<p>For the instant scheduler, for example, the local scheduler, the failure will
be immediately reported when submitting the job, so we don't need to check
such jobs.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job to check</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if the job fails before running, otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.gbatch_scheduler.GbatchScheduler.job_is_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersgbatch_schedulergbatchschedulerjob_is_running" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersgbatch_schedulergbatchschedulerjob_is_running">job_is_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.gbatch_scheduler/#xqute.schedulers.gbatch_scheduler.GbatchScheduler.job_is_running" title="Source for xqute.schedulers.gbatch_scheduler.GbatchScheduler.job_is_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job is really running</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if yes otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.gbatch_scheduler.GbatchScheduler.jobcmd_init">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulersgbatch_schedulergbatchschedulerjobcmd_init" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulersgbatch_schedulergbatchschedulerjobcmd_init">jobcmd_init</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.gbatch_scheduler/#xqute.schedulers.gbatch_scheduler.GbatchScheduler.jobcmd_init" title="Source for xqute.schedulers.gbatch_scheduler.GbatchScheduler.jobcmd_init">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command init</p></div>
    </div>
  </div>

</div>
    </div>
  
  </div>

</div>

<div class="mkapi-node" id="pipen.scheduler.ContainerScheduler">
<div class='mkapi-object-container'>
  <div class="mkapi-object class code top">
    <div class="mkapi-object-kind class top">class</div>
    <h3 id="pipenschedulercontainerscheduler" class="mkapi-object-body class top"><code class="mkapi-object-prefix">pipen.scheduler.</code><code class="mkapi-object-name">ContainerScheduler</code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">image</code>, <code class="mkapi-object-signature">entrypoint=&#39;/bin/bash&#39;</code>, <code class="mkapi-object-signature">bin=&#39;docker&#39;</code>, <code class="mkapi-object-signature">volumes=None</code>, <code class="mkapi-object-signature">remove=True</code>, <code class="mkapi-object-signature">user=None</code>, <code class="mkapi-object-signature">bin_args=None</code>, <code class="mkapi-object-signature">**kwargs</code><code class="mkapi-object-parenthesis">)</code></h3>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.ContainerScheduler" title="Source for pipen.scheduler.ContainerScheduler">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section bases">
      <div class="mkapi-section-name bases">
          <span class="mkapi-section-name-body bases">Bases</span> 
        </div>
      <div class="mkapi-section-body bases">
<span class="mkapi-base"><a href="./#pipen.scheduler.SchedulerPostInit">pipen.scheduler.SchedulerPostInit</a></span>

<span class="mkapi-base">xqute.schedulers.container_scheduler.ContainerScheduler</span>

<span class="mkapi-base">xqute.schedulers.local_scheduler.LocalScheduler</span>

<span class="mkapi-base">xqute.scheduler.Scheduler</span>
</div>
    </div>
  <div class="mkapi-section">
      <div class="mkapi-section-body"><p>Scheduler to run jobs via containers (Docker/Podman/Apptainer)</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">**kwargs</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Additional arguments passed to parent Scheduler</span></li>

<li><code class="mkapi-item-name">image</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Container image to use for running jobs</span></li>

<li><code class="mkapi-item-name">entrypoint</code>
<span class="mkapi-item-type">(str | List[str], optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Entrypoint command for the container</span></li>

<li><code class="mkapi-item-name">bin</code>
<span class="mkapi-item-type">(str, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Path to container runtime binary (e.g. /path/to/docker)</span></li>

<li><code class="mkapi-item-name">volumes</code>
<span class="mkapi-item-type">(str | Sequence[str] | None, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">host:container volume mapping string or stringsor named volume mapping like <code>MOUNTED=/path/on/host</code>
then it will be mounted to <code>/mnt/disks/MOUNTED</code> in the container.
You can use environment variable <code>MOUNTED</code> in your job scripts to
refer to the mounted path.
</span></li>

<li><code class="mkapi-item-name">remove</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether to remove the container after execution.Only applies to Docker/Podman.
</span></li>

<li><code class="mkapi-item-name">user</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">User to run the container as (only for Docker/Podman)By default, it runs as the current user (os.getuid() and os.getgid())
</span></li>

<li><code class="mkapi-item-name">bin_args</code>
<span class="mkapi-item-type">(List[str] | None, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Additional arguments to pass to the container runtime</span></li>


</ul></div>
    </div>
  <div class="mkapi-section attributes">
      <div class="mkapi-section-name attributes">
          <span class="mkapi-section-name-body attributes">Attributes</span> 
        </div>
      <div class="mkapi-section-body attributes"><ul class="mkapi-items">






<li><code class="mkapi-item-name">job_class</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job class</span></li>

<li><code class="mkapi-item-name">jobcmd_wrapper_init</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The init script for the job command wrapper</span></li>

<li class="readonly-property"><code class="mkapi-item-name">jobcmd_wrapper_init</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The init script for the job command wrapper<span id="xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_wrapper_init"></span><a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_wrapper_init" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_wrapper_init">&lt;/&gt;</a></span></li>

<li><code class="mkapi-item-name">name</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The name of the scheduler</span></li>






</ul></div>
    </div>
  <div class="mkapi-section methods">
      <div class="mkapi-section-name methods">
          <span class="mkapi-section-name-body methods">Methods</span> 
        </div>
      <div class="mkapi-section-body methods"><ul class="mkapi-items">
<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.check_all_done">check_all_done</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code>, <code class="mkapi-object-signature">polling_counter</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if all jobs are done (full polling with hooks)<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.check_all_done" title="Source for xqute.scheduler.Scheduler.check_all_done">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.count_running_jobs">count_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Count currently running/active jobs (lightweight check)<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.count_running_jobs" title="Source for xqute.scheduler.Scheduler.count_running_jobs">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.create_job">create_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">index</code>, <code class="mkapi-object-signature">cmd</code>, <code class="mkapi-object-signature">envs</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Create a job<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.create_job" title="Source for xqute.scheduler.Scheduler.create_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.job_fails_before_running">job_fails_before_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job fails before running.<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_fails_before_running" title="Source for xqute.scheduler.Scheduler.job_fails_before_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.local_scheduler.LocalScheduler.job_is_running">job_is_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Tell if a job is really running, not only the job.jid_file<a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.job_is_running" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.job_is_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.job_is_submitted_or_running">job_is_submitted_or_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(bool)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Check if a job is already submitted or running<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_is_submitted_or_running" title="Source for xqute.scheduler.Scheduler.job_is_submitted_or_running">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.jobcmd_end">jobcmd_end</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command end<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_end" title="Source for xqute.scheduler.Scheduler.jobcmd_end">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.container_scheduler.ContainerScheduler.jobcmd_init">jobcmd_init</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command init<a class="mkapi-src-link" href="../source/xqute.schedulers.container_scheduler/#xqute.schedulers.container_scheduler.ContainerScheduler.jobcmd_init" title="Source for xqute.schedulers.container_scheduler.ContainerScheduler.jobcmd_init">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep">jobcmd_prep</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job command preparation<a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.container_scheduler.ContainerScheduler.jobcmd_shebang">jobcmd_shebang</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The shebang of the wrapper script<a class="mkapi-src-link" href="../source/xqute.schedulers.container_scheduler/#xqute.schedulers.container_scheduler.ContainerScheduler.jobcmd_shebang" title="Source for xqute.schedulers.container_scheduler.ContainerScheduler.jobcmd_shebang">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.local_scheduler.LocalScheduler.kill_job">kill_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Kill a job asynchronously<a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.kill_job" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.kill_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.kill_job_and_update_status">kill_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Kill a job and update its status<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_job_and_update_status" title="Source for xqute.scheduler.Scheduler.kill_job_and_update_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.kill_running_jobs">kill_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Try to kill all running jobs<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_running_jobs" title="Source for xqute.scheduler.Scheduler.kill_running_jobs">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.retry_job">retry_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Retry a job<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.retry_job" title="Source for xqute.scheduler.Scheduler.retry_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.container_scheduler.ContainerScheduler.submit_job">submit_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Submit a job locally<a class="mkapi-src-link" href="../source/xqute.schedulers.container_scheduler/#xqute.schedulers.container_scheduler.ContainerScheduler.submit_job" title="Source for xqute.schedulers.container_scheduler.ContainerScheduler.submit_job">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.submit_job_and_update_status">submit_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Submit and update the status<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.submit_job_and_update_status" title="Source for xqute.scheduler.Scheduler.submit_job_and_update_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.transition_job_status">transition_job_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code>, <code class="mkapi-object-signature">new_status</code>, <code class="mkapi-object-signature">old_status</code>, <code class="mkapi-object-signature">flush</code>, <code class="mkapi-object-signature">rc</code>, <code class="mkapi-object-signature">error_msg</code>, <code class="mkapi-object-signature">is_killed</code><code class="mkapi-object-parenthesis">)</code>

<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Centralized status transition handler<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.transition_job_status" title="Source for xqute.scheduler.Scheduler.transition_job_status">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.scheduler.Scheduler.wrap_job_script">wrap_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(str)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Wrap the job script<a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrap_job_script" title="Source for xqute.scheduler.Scheduler.wrap_job_script">&lt;/&gt;</a></span></li>

<li class="method"><code class="mkapi-item-name"><a href="#xqute.schedulers.container_scheduler.ContainerScheduler.wrapped_job_script">wrapped_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code>
<span class="mkapi-item-type">(SpecPath)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Get the wrapped job script<a class="mkapi-src-link" href="../source/xqute.schedulers.container_scheduler/#xqute.schedulers.container_scheduler.ContainerScheduler.wrapped_job_script" title="Source for xqute.schedulers.container_scheduler.ContainerScheduler.wrapped_job_script">&lt;/&gt;</a></span></li>


</ul></div>
    </div>
  </div>

  <div class="mkapi-members">
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.create_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercreate_job_5" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercreate_job_5">create_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">index</code>, <code class="mkapi-object-signature">cmd</code>, <code class="mkapi-object-signature">envs=None</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.create_job" title="Source for xqute.scheduler.Scheduler.create_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Create a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">index</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The index of the job</span></li>

<li><code class="mkapi-item-name">cmd</code>
<span class="mkapi-item-type">(Union)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The command of the job</span></li>



</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(Job)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The job</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.submit_job_and_update_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulersubmit_job_and_update_status_5" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulersubmit_job_and_update_status_5">submit_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.submit_job_and_update_status" title="Source for xqute.scheduler.Scheduler.submit_job_and_update_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Submit and update the status</p><ol>
<li>Check if the job is already submitted or running</li>
<li>If not, run the hook</li>
<li>If the hook is not cancelled, clean the job</li>
<li>Submit the job, raising an exception if it fails</li>
<li>If the job is submitted successfully, update the status</li>
<li>If the job fails to submit, update the status and write stderr to
    the job file</li>
</ol>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.transition_job_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulertransition_job_status_5" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulertransition_job_status_5">transition_job_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code>, <code class="mkapi-object-signature">new_status</code>, <code class="mkapi-object-signature">old_status=None</code>, <code class="mkapi-object-signature">flush=True</code>, <code class="mkapi-object-signature">rc=None</code>, <code class="mkapi-object-signature">error_msg=None</code>, <code class="mkapi-object-signature">is_killed=False</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.transition_job_status" title="Source for xqute.scheduler.Scheduler.transition_job_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Centralized status transition handler</p><p>Handles all aspects of job status transitions:
<ul><li>- Status change logging</li><li>- Hook lifecycle management (ensuring on_job_started is called)</li><li>- Appropriate hook calls based on new status</li><li>- RC file updates</li><li>- Error message appending to stderr</li><li>- JID file cleanup for terminal states</li><li>- Pipeline halt on errors if configured</p></li></ul><p>Note that this method will not flush status changes to disk (job.status_file).You need to call job.set_status() separately if needed.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job to transition</span></li>

<li><code class="mkapi-item-name">new_status</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The new status to transition to</span></li>

<li><code class="mkapi-item-name">old_status</code>
<span class="mkapi-item-type">(int | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The previous status (if known).If None, will use job._status
</span></li>

<li><code class="mkapi-item-name">flush</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether to flush the status to disk</span></li>

<li><code class="mkapi-item-name">rc</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Optional return code to write to rc_file</span></li>

<li><code class="mkapi-item-name">error_msg</code>
<span class="mkapi-item-type">(str | none, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Optional error message to append to stderr_file</span></li>

<li><code class="mkapi-item-name">is_killed</code>
<span class="mkapi-item-type">(bool, optional)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">Whether this is a killed job (uses on_job_killed hook)</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.kill_job_and_update_status">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerkill_job_and_update_status_5" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerkill_job_and_update_status_5">kill_job_and_update_status</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_job_and_update_status" title="Source for xqute.scheduler.Scheduler.kill_job_and_update_status">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Kill a job and update its status</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.retry_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerretry_job_5" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerretry_job_5">retry_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.retry_job" title="Source for xqute.scheduler.Scheduler.retry_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Retry a job</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.count_running_jobs">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercount_running_jobs_5" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercount_running_jobs_5">count_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.count_running_jobs" title="Source for xqute.scheduler.Scheduler.count_running_jobs">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Count currently running/active jobs (lightweight check)</p><p>This is optimized for the producer to check if new jobs can be submitted.
It only counts jobs without refreshing status or calling hooks.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(int)</span>
        </div>
      <div class="mkapi-section-body returns"><p>Number of jobs currently in active states</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.check_all_done">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulercheck_all_done_5" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulercheck_all_done_5">check_all_done</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code>, <code class="mkapi-object-signature">polling_counter</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.check_all_done" title="Source for xqute.scheduler.Scheduler.check_all_done">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if all jobs are done (full polling with hooks)</p><p>This does complete status refresh and calls all lifecycle hooks.
Used by the main polling loop to track job completion.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>

<li><code class="mkapi-item-name">polling_counter</code>
<span class="mkapi-item-type">(int)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The polling counter for hook calls</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if all jobs are done, False otherwise</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.kill_running_jobs">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerkill_running_jobs_5" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerkill_running_jobs_5">kill_running_jobs</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">jobs</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.kill_running_jobs" title="Source for xqute.scheduler.Scheduler.kill_running_jobs">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Try to kill all running jobs</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">jobs</code>
<span class="mkapi-item-type">(List)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The list of jobs</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.job_is_submitted_or_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjob_is_submitted_or_running_5" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjob_is_submitted_or_running_5">job_is_submitted_or_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_is_submitted_or_running" title="Source for xqute.scheduler.Scheduler.job_is_submitted_or_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job is already submitted or running</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if yes otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.job_fails_before_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjob_fails_before_running_3" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjob_fails_before_running_3">job_fails_before_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.job_fails_before_running" title="Source for xqute.scheduler.Scheduler.job_fails_before_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Check if a job fails before running.</p><p>For some schedulers, the job might fail before running (after submission).
For example, the job might fail to allocate resources. In such a case,
the wrapped script might not be executed, and the job status will not be
updated (stays in SUBMITTED). We need to check such jobs and mark them as
FAILED.</p>
<p>For the instant scheduler, for example, the local scheduler, the failure will
be immediately reported when submitting the job, so we don't need to check
such jobs.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job to check</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if the job fails before running, otherwise False.</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.jobcmd_end">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerjobcmd_end_5" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerjobcmd_end_5">jobcmd_end</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.jobcmd_end" title="Source for xqute.scheduler.Scheduler.jobcmd_end">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command end</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.scheduler.Scheduler.wrap_job_script">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerschedulerwrap_job_script_5" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerschedulerwrap_job_script_5">wrap_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.scheduler/#xqute.scheduler.Scheduler.wrap_job_script" title="Source for xqute.scheduler.Scheduler.wrap_job_script">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Wrap the job script</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(str)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The wrapped script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.local_scheduler.LocalScheduler.kill_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerslocal_schedulerlocalschedulerkill_job_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerslocal_schedulerlocalschedulerkill_job_1">kill_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.kill_job" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.kill_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Kill a job asynchronously</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.local_scheduler.LocalScheduler.job_is_running">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerslocal_schedulerlocalschedulerjob_is_running_1" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerslocal_schedulerlocalschedulerjob_is_running_1">job_is_running</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.job_is_running" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.job_is_running">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Tell if a job is really running, not only the job.jid_file</p><p>In case where the jid file is not cleaned when job is done.</p>
</div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(bool)</span>
        </div>
      <div class="mkapi-section-body returns"><p>True if it is, otherwise False</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerslocal_schedulerlocalschedulerjobcmd_prep_2" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerslocal_schedulerlocalschedulerjobcmd_prep_2">jobcmd_prep</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.local_scheduler/#xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep" title="Source for xqute.schedulers.local_scheduler.LocalScheduler.jobcmd_prep">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command preparation</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.container_scheduler.ContainerScheduler.wrapped_job_script">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerscontainer_schedulercontainerschedulerwrapped_job_script" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerscontainer_schedulercontainerschedulerwrapped_job_script">wrapped_job_script</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.container_scheduler/#xqute.schedulers.container_scheduler.ContainerScheduler.wrapped_job_script" title="Source for xqute.schedulers.container_scheduler.ContainerScheduler.wrapped_job_script">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Get the wrapped job script</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(SpecPath)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The path of the wrapped job script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.container_scheduler.ContainerScheduler.jobcmd_shebang">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerscontainer_schedulercontainerschedulerjobcmd_shebang" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerscontainer_schedulercontainerschedulerjobcmd_shebang">jobcmd_shebang</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.container_scheduler/#xqute.schedulers.container_scheduler.ContainerScheduler.jobcmd_shebang" title="Source for xqute.schedulers.container_scheduler.ContainerScheduler.jobcmd_shebang">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The shebang of the wrapper script</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.container_scheduler.ContainerScheduler.submit_job">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerscontainer_schedulercontainerschedulersubmit_job" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerscontainer_schedulercontainerschedulersubmit_job">submit_job</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.container_scheduler/#xqute.schedulers.container_scheduler.ContainerScheduler.submit_job" title="Source for xqute.schedulers.container_scheduler.ContainerScheduler.submit_job">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Submit a job locally</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">job</code>
<span class="mkapi-item-type">(Job)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The job</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(int)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The process id</p></div>
    </div>
  </div>

</div>
    </div>
  
    <div class="mkapi-member">
      <div class="mkapi-node" id="xqute.schedulers.container_scheduler.ContainerScheduler.jobcmd_init">
<div class='mkapi-object-container'>
  <div class="mkapi-object method code">
    <div class="mkapi-object-kind method">method</div>
    <h4 id="xquteschedulerscontainer_schedulercontainerschedulerjobcmd_init" class="mkapi-object-body method"><code class="mkapi-object-name"><a href="#xquteschedulerscontainer_schedulercontainerschedulerjobcmd_init">jobcmd_init</a></code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">job</code><code class="mkapi-object-parenthesis">)</code><span class="mkapi-item-type"> &#x2192; str</span></h4>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/xqute.schedulers.container_scheduler/#xqute.schedulers.container_scheduler.ContainerScheduler.jobcmd_init" title="Source for xqute.schedulers.container_scheduler.ContainerScheduler.jobcmd_init">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>The job command init</p></div>
    </div>
  </div>

</div>
    </div>
  
  </div>

</div>

<div class="mkapi-node" id="pipen.scheduler.get_scheduler">
<div class='mkapi-object-container'>
  <div class="mkapi-object function code top">
    <div class="mkapi-object-kind function top">function</div>
    <h3 id="pipenschedulerget_scheduler" class="mkapi-object-body function top"><code class="mkapi-object-prefix">pipen.scheduler.</code><code class="mkapi-object-name">get_scheduler</code><code class="mkapi-object-parenthesis">(</code><code class="mkapi-object-signature">scheduler</code><code class="mkapi-object-parenthesis">)</code></h3>
  </div>
  <div class="mkapi-src-link">
    <a class="mkapi-src-link" href="../source/pipen.scheduler/#pipen.scheduler.get_scheduler" title="Source for pipen.scheduler.get_scheduler">&lt;/&gt;</a>
  </div>
</div>
<div class="mkapi-docstring">
<div class="mkapi-section">
      <div class="mkapi-section-body"><p>Get the scheduler by name of the scheduler class itself</p></div>
    </div>
  <div class="mkapi-section parameters">
      <div class="mkapi-section-name parameters">
          <span class="mkapi-section-name-body parameters">Parameters</span> 
        </div>
      <div class="mkapi-section-body parameters"><ul class="mkapi-items">
<li><code class="mkapi-item-name">scheduler</code>
<span class="mkapi-item-type">(Union)</span>
<span class="mkapi-item-dash">&mdash;</span> <span class="mkapi-item-description">The scheduler class or name</span></li>


</ul></div>
    </div>
  <div class="mkapi-section returns">
      <div class="mkapi-section-name returns">
          <span class="mkapi-section-name-body returns">Returns</span> <span class="mkapi-item-type">(Type)</span>
        </div>
      <div class="mkapi-section-body returns"><p>The scheduler class</p></div>
    </div>
  </div>

</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../pipen.job/" class="btn btn-neutral float-left" title="pipen.job"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../pipen.exceptions/" class="btn btn-neutral float-right" title="pipen.exceptions">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  <div class="footer-notes">
    <a href="https://github.com/pwwang/pipen" title="Open repository in GitHub">Github Repo</a>
    <div class="footer-sep"></div>Built with <a href="https://www.mkdocs.org/">MkDocs</a> using theme <a href="https://github.com/pwwang/mkdocs-rtd">mkdocs-rtd</a>.
  </div>
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../pipen.job/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../pipen.exceptions/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
    <script src="../../js/version-select.js"></script>
      <script src="../../js/mkapi.js"></script>
      <script src="../../assets/script.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
